(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1009:function(module,exports){},1133:function(module,exports,__webpack_require__){"use strict";(function(module){var _react=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(12)),_react2=__webpack_require__(767),_react3=__webpack_require__(1310);var globalContainer={margin:"5%"};(0,_react2.addDecorator)((function(story){return _react.default.createElement("div",{style:globalContainer},story())})),(0,_react2.addDecorator)(_react3.withKnobs),(0,_react2.addParameters)({options:{name:"Trevas JS",addonPanelInRight:!0}});(0,_react2.configure)((function loadStories(){return function requireAll(requireContext){return requireContext.keys().map(requireContext)}(__webpack_require__(1326))}),module)}).call(this,__webpack_require__(270)(module))},1326:function(module,exports,__webpack_require__){var map={"./trevas/stories/interpretor/interpretor.stories.js":1327};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1326},1327:function(module,exports,__webpack_require__){"use strict";(function(module){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _react=_interopRequireDefault(__webpack_require__(12)),_react2=__webpack_require__(767),_storybookReadme=__webpack_require__(1328),_vtl=__webpack_require__(114),dataForge=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(870)),_components=__webpack_require__(1418),_README=_interopRequireDefault(__webpack_require__(1669));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var stories=(0,_react2.storiesOf)("Interpretor",module);stories.addDecorator((function styleDecorator(storyFn){return _react.default.createElement("div",{style:{marginTop:"5%"}},storyFn())})).addDecorator((0,_storybookReadme.withReadme)(_README.default)),stories.add("Default",(function(){return _react.default.createElement(_components.Interpretor,null)})),stories.add("Bindings",(function(){return _react.default.createElement(_components.Interpretor,{expression:'"Welcome " || NAME || ", you are " || (if cast(AGE, integer) >= 18 then "major" else "minor") || "."',bindings:{NAME:"Mauro",AGE:26}})})),stories.add("Parenthesis",(function(){return _react.default.createElement(_components.Interpretor,{expression:"(10 + 2) * 123456"})})),(0,_react2.storiesOf)("Interpretor/Arithmetic",module).add("Div",(function(){return _react.default.createElement(_components.Interpretor,{expression:"3 / 2"})})),(0,_react2.storiesOf)("Interpretor/Arithmetic",module).add("Mul",(function(){return _react.default.createElement(_components.Interpretor,{expression:"11 * 27"})})),(0,_react2.storiesOf)("Interpretor/Arithmetic",module).add("Minus",(function(){return _react.default.createElement(_components.Interpretor,{expression:"1 - 2"})})),(0,_react2.storiesOf)("Interpretor/Arithmetic",module).add("Plus",(function(){return _react.default.createElement(_components.Interpretor,{expression:"10 + 2"})})),(0,_react2.storiesOf)("Interpretor/Arithmetic/Dates",module).add("Minus",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast(a, date, "YYYY-MM-DD") - cast(b, date, "YYYY-MM-DD")',bindings:{a:"1988-03-01",b:"1988-02-28"}})})),(0,_react2.storiesOf)("Interpretor/Comparison",module).add("Equal to",(function(){return _react.default.createElement(_components.Interpretor,{expression:"100 = 1"})}));var ELEMENTS={dataStructure:{col_1:{}},dataPoints:{col_1:["B","C","D"]}};(0,_react2.storiesOf)("Interpretor/Comparison",module).add("In / Not in",(function(){return _react.default.createElement(_components.Interpretor,{expression:'"1" not_in {"2", "3"}',bindings:{}})})),(0,_react2.storiesOf)("Interpretor/Comparison",module).add("In / Not in (Dataset)",(function(){return _react.default.createElement(_components.Interpretor,{expression:'"A" not_in ELEMENTS',bindings:{ELEMENTS:ELEMENTS}})})),(0,_react2.storiesOf)("Interpretor/Comparison",module).add("Less than",(function(){return _react.default.createElement(_components.Interpretor,{expression:"100 < 1"})})),(0,_react2.storiesOf)("Interpretor/Comparison",module).add("Less than or equal to",(function(){return _react.default.createElement(_components.Interpretor,{expression:"100 <= 100"})})),(0,_react2.storiesOf)("Interpretor/Comparison",module).add("More than",(function(){return _react.default.createElement(_components.Interpretor,{expression:"100 > 1"})})),(0,_react2.storiesOf)("Interpretor/Comparison",module).add("More than or equal to",(function(){return _react.default.createElement(_components.Interpretor,{expression:"100 >= 100"})})),(0,_react2.storiesOf)("Interpretor/Comparison",module).add("Not equal to",(function(){return _react.default.createElement(_components.Interpretor,{expression:"100 <> 1"})})),(0,_react2.storiesOf)("Interpretor/Comparison/Dates",module).add("Equal to",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("2020-01-01", date, "YYYY-MM-DD") = cast(current_date(), date, "YYYY-MM-DD")'})})),(0,_react2.storiesOf)("Interpretor/Comparison/Dates",module).add("Less than",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("2020-01-01", date, "YYYY-MM-DD") < cast("2020-01-02", date, "YYYY-MM-DD")'})})),(0,_react2.storiesOf)("Interpretor/Comparison/Dates",module).add("Less than or equal to",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("2020-01-01", date, "YYYY-MM-DD") <= cast("2020-01-02", date, "YYYY-MM-DD")'})})),(0,_react2.storiesOf)("Interpretor/Comparison/Dates",module).add("More than",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("2020-01-01", date, "YYYY-MM-DD") > cast("2020-01-02", date, "YYYY-MM-DD")'})})),(0,_react2.storiesOf)("Interpretor/Comparison/Dates",module).add("More than or equal to",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("2020-01-01", date, "YYYY-MM-DD") >= cast("2020-01-02", date, "YYYY-MM-DD")'})})),(0,_react2.storiesOf)("Interpretor/Comparison/Dates",module).add("Not equal to",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("2020-01-01", date, "YYYY-MM-DD") <> cast("2020-01-01", date, "YYYY-MM-DD")'})})),(0,_react2.storiesOf)("Interpretor/Conditional",module).add("IfThenElse",(function(){return _react.default.createElement(_components.Interpretor,{expression:'if 100 > 0 then "positive" else "negative"'})})),(0,_react2.storiesOf)("Interpretor/Conditional",module).add("Nvl",(function(){return _react.default.createElement(_components.Interpretor,{expression:"nvl(null, 5)"})})),(0,_react2.storiesOf)("Interpretor/Boolean algebra",module).add("And",(function(){return _react.default.createElement(_components.Interpretor,{expression:"false and true"})})),(0,_react2.storiesOf)("Interpretor/Boolean algebra",module).add("Not",(function(){return _react.default.createElement(_components.Interpretor,{expression:"not true"})})),(0,_react2.storiesOf)("Interpretor/Boolean algebra",module).add("Or",(function(){return _react.default.createElement(_components.Interpretor,{expression:"false or true"})})),(0,_react2.storiesOf)("Interpretor/Function/Cast",module).add("Into integer",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("10", integer)'})})),(0,_react2.storiesOf)("Interpretor/Function/Cast",module).add("Into number",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("10.99", number)'})})),(0,_react2.storiesOf)("Interpretor/Function/Cast",module).add("Into boolean",(function(){return _react.default.createElement(_components.Interpretor,{expression:"cast(1, boolean)"})})),(0,_react2.storiesOf)("Interpretor/Function/Cast",module).add("Into time",(function(){return _react.default.createElement("div",null,"TODO")})),(0,_react2.storiesOf)("Interpretor/Function/Cast",module).add("Into date",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("1998-07-12", date, "YYYY-MM-DD")'})})),(0,_react2.storiesOf)("Interpretor/Function/Cast",module).add("Into time_period",(function(){return _react.default.createElement("div",null,"TODO")})),(0,_react2.storiesOf)("Interpretor/Function/Cast",module).add("Into string",(function(){return _react.default.createElement(_components.Interpretor,{expression:'cast("1998-07-12", string, "YYYY-MM-DD")'})})),(0,_react2.storiesOf)("Interpretor/Function/Cast",module).add("Into duration",(function(){return _react.default.createElement("div",null,"TODO")}));var dsI={dataStructure:{col_1:{},col_2:{}},dataPoints:{col_1:["1","2","3"],col_2:["-1",null]}};(0,_react2.storiesOf)("Interpretor/Function/Cast/Dataset",module).add("Into integer",(function(){return _react.default.createElement(_components.Interpretor,{expression:"cast(dsI, integer)",bindings:{dsI:dsI}})}));var dsN={dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:["1.1",null,"3"]}};(0,_react2.storiesOf)("Interpretor/Function/Cast/Dataset",module).add("Into number",(function(){return _react.default.createElement(_components.Interpretor,{expression:"cast(dsN, number)",bindings:{dsN:dsN}})})),(0,_react2.storiesOf)("Interpretor/Function/Comparison",module).add("Between",(function(){return _react.default.createElement(_components.Interpretor,{expression:"between(10, 1, 100)",bindings:{}})})),(0,_react2.storiesOf)("Interpretor/Function/Comparison",module).add("Match characters",(function(){return _react.default.createElement(_components.Interpretor,{expression:'match_characters("test", "(.*)(es)(.*)?")',bindings:{}})})),(0,_react2.storiesOf)("Interpretor/Function/Comparison",module).add("Null",(function(){return _react.default.createElement(_components.Interpretor,{expression:"isnull(test)",bindings:{test:null}})})),(0,_react2.storiesOf)("Interpretor/Function",module).add("Concatenation",(function(){return _react.default.createElement(_components.Interpretor,{expression:'"Hello" || " " || "World"'})})),(0,_react2.storiesOf)("Interpretor/Function/Date",module).add("Current date",(function(){return _react.default.createElement(_components.Interpretor,{expression:"current_date()"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Abs",(function(){return _react.default.createElement(_components.Interpretor,{expression:"abs(-10.5)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Ceil",(function(){return _react.default.createElement(_components.Interpretor,{expression:"ceil(3.75)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Exp",(function(){return _react.default.createElement(_components.Interpretor,{expression:"exp(-1.5)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Floor",(function(){return _react.default.createElement(_components.Interpretor,{expression:"floor(-1.5)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Ln",(function(){return _react.default.createElement(_components.Interpretor,{expression:"ln(5)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Sqrt",(function(){return _react.default.createElement(_components.Interpretor,{expression:"sqrt(5)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Round",(function(){return _react.default.createElement(_components.Interpretor,{expression:"round(2.618, 2)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Trunc",(function(){return _react.default.createElement(_components.Interpretor,{expression:"trunc(2.618, 2)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Log",(function(){return _react.default.createElement(_components.Interpretor,{expression:"log(2048, 2)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Mod",(function(){return _react.default.createElement(_components.Interpretor,{expression:"mod(7, 3)"})})),(0,_react2.storiesOf)("Interpretor/Function/Numeric",module).add("Power",(function(){return _react.default.createElement(_components.Interpretor,{expression:"power(3, 2)"})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("Length",(function(){return _react.default.createElement(_components.Interpretor,{expression:'length("Hello")'})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("Replace",(function(){return _react.default.createElement(_components.Interpretor,{expression:'replace("Hello Edi", "Edi", "Mauro")'})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("Upper",(function(){return _react.default.createElement(_components.Interpretor,{expression:'upper("Hello")'})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("Lower",(function(){return _react.default.createElement(_components.Interpretor,{expression:'lower("Hello")'})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("Substring",(function(){return _react.default.createElement(_components.Interpretor,{expression:'substr("Hello", 1, 2)'})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("Trim",(function(){return _react.default.createElement(_components.Interpretor,{expression:'trim("              before")'})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("L-Trim",(function(){return _react.default.createElement(_components.Interpretor,{expression:'ltrim("              before")'})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("R-Trim",(function(){return _react.default.createElement(_components.Interpretor,{expression:'rtrim("              before")'})})),(0,_react2.storiesOf)("Interpretor/Function/String",module).add("Instr",(function(){return _react.default.createElement(_components.Interpretor,{expression:'instr("Hello world", "world")'})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Count",(function(){return _react.default.createElement(_components.Interpretor,{expression:"count(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,3]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("First value",(function(){return _react.default.createElement(_components.Interpretor,{expression:"first_value(ds over())",bindings:{ds:{dataStructure:{col_1:{name:"id",role:"IDENTIFIER"},col_2:{name:"col_2",role:"MEASURE"}},dataPoints:{col_1:[1,2,3],col_2:[10,20,30]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Last value",(function(){return _react.default.createElement(_components.Interpretor,{expression:"last_value(ds over())",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,3]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Average",(function(){return _react.default.createElement(_components.Interpretor,{expression:"avg(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,-1]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Deviation - Sample",(function(){return _react.default.createElement(_components.Interpretor,{expression:"stddev_samp(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,3]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Deviation - Standard",(function(){return _react.default.createElement(_components.Interpretor,{expression:"stddev_pop(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,3]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Max",(function(){return _react.default.createElement(_components.Interpretor,{expression:"max(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,3]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Median",(function(){return _react.default.createElement(_components.Interpretor,{expression:"median(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,5,1e4]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Min",(function(){return _react.default.createElement(_components.Interpretor,{expression:"min(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,3]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Sum",(function(){return _react.default.createElement(_components.Interpretor,{expression:"sum(cast(ds, integer))",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:["1","2","3"]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Variance - Sample",(function(){return _react.default.createElement(_components.Interpretor,{expression:"var_samp(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,3]}}}})})),(0,_react2.storiesOf)("Interpretor/Function/Dataset",module).add("Variance - Standard",(function(){return _react.default.createElement(_components.Interpretor,{expression:"var_pop(ds)",bindings:{ds:{dataStructure:{col_1:{name:"col_1",role:"MEASURE"}},dataPoints:{col_1:[1,2,3]}}}})}));var columnsSurf={Arrondissement:{type:_vtl.VtlParser.STRING,role:_vtl.VtlParser.DIMENSION},Value:{type:_vtl.VtlParser.NUMBER,role:_vtl.VtlParser.MEASURE}},dsSurf={type:_vtl.VtlParser.DATASET,columns:columnsSurf,resolve:function resolve(){return new dataForge.DataFrame({rows:[[75101,183],[75102,99],[75103,117],[75104,160],[75105,254],[75106,215],[75107,409],[75108,388],[75109,218],[75110,289],[75111,367],[75112,637],[75113,715],[75114,564],[75115,848],[75116,791],[75117,567],[75118,601],[75119,679],[75120,598]],columnNames:Object.keys(columnsSurf)})}},columnsMun={Arrondissement:{type:_vtl.VtlParser.STRING,role:_vtl.VtlParser.DIMENSION},Value:{type:_vtl.VtlParser.NUMBER,role:_vtl.VtlParser.MEASURE}},dsMun={type:_vtl.VtlParser.DATASET,columns:columnsMun,resolve:function resolve(){return new dataForge.DataFrame({rows:[[75104,282],[75105,781],[75106,876],[75107,826],[75108,560],[75109,516],[75110,464],[75111,827],[75112,991],[75113,1300],[75114,977],[75115,1786],[75116,2193],[75117,1449],[75118,898],[75119,1051],[75120,925]],columnNames:Object.keys(columnsMun)})}},columnsCap={Arrondissement:{type:_vtl.VtlParser.STRING,role:_vtl.VtlParser.DIMENSION},Value:{type:_vtl.VtlParser.NUMBER,role:_vtl.VtlParser.MEASURE}},dsCap={type:_vtl.VtlParser.DATASET,columns:columnsCap,resolve:function resolve(){return new dataForge.DataFrame({rows:[[75101,16266],[75102,20900],[75103,34115],[75104,28088],[75105,58850],[75106,41100],[75107,51367],[75108,36808],[75109,59555],[75110,90372],[75111,146643],[75112,140296],[75113,182099],[75114,135964],[75115,233392],[75116,166361],[75117,167288],[75118,195233],[75119,187015],[75120,195814]],columnNames:Object.keys(columnsCap)})}};(0,_react2.storiesOf)("Interpretor/Dataset",module).add("Arithmetic",(function(){return _react.default.createElement(_components.Interpretor,{expression:"(dsMun + dsCap) / dsSurf",bindings:{dsMun:dsMun,dsCap:dsCap,dsSurf:dsSurf}})}))}).call(this,__webpack_require__(270)(module))},1418:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Interpretor",{enumerable:!0,get:function get(){return _interpretor.default}}),Object.defineProperty(exports,"TreeView",{enumerable:!0,get:function get(){return _tree.default}}),__webpack_require__(1419);var _tree=_interopRequireDefault(__webpack_require__(871)),_interpretor=_interopRequireDefault(__webpack_require__(1443));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},1419:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(595),_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_1__),options={insert:"head",singleton:!1};_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_1___default.a,options);__webpack_exports__.default=_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals||{}},1420:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(12)),_antlr=_interopRequireDefault(__webpack_require__(331)),_tree=_interopRequireDefault(__webpack_require__(1421)),_vtl=__webpack_require__(114),_TreeVtlVisitor=_interopRequireDefault(__webpack_require__(1442));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TreeView=function TreeView(_ref){var value=_ref.value,_useState2=_slicedToArray((0,_react.useState)(null),2),ctx=_useState2[0],getCtx=_useState2[1];return(0,_react.useEffect)((function(){!function getTree(text){return function(getContext){var chars=new _antlr.default.InputStream(text),lexer=new _vtl.VtlLexer(chars),tokens=new _antlr.default.CommonTokenStream(lexer),parser=new _vtl.VtlParser(tokens);parser.buildParseTrees=!0;var ctx=parser.expr();return new _TreeVtlVisitor.default(getContext).visitExpr(ctx)}}(value)(getCtx)}),[value]),ctx?_react.default.createElement(_tree.default,{ctx:ctx}):null},_default=TreeView;exports.default=_default,TreeView.__docgenInfo={description:"",methods:[],displayName:"TreeView"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/trevas/stories/components/tree/component.js"]={name:"TreeView",docgenInfo:TreeView.__docgenInfo,path:"packages/trevas/stories/components/tree/component.js"})},1421:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(12)),_reactSortableTree=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(1672)),_utils=__webpack_require__(1438);function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__(1440),__webpack_require__(1441);var Tree=function Tree(_ref){var ctx=_ref.ctx,_useState2=_slicedToArray((0,_react.useState)([(0,_utils.buildTree)(ctx)]),2),tree=_useState2[0],setTree=_useState2[1];return(0,_react.useEffect)((function(){setTree([(0,_utils.buildTree)(ctx)])}),[ctx]),_react.default.createElement("div",{className:"tree"},_react.default.createElement(_reactSortableTree.default,{treeData:tree,onChange:function onChange(t){return setTree(t)},canDrag:!1,canDrop:function canDrop(){return!1},generateNodeProps:function generateNodeProps(rowInfo){return{buttons:[_react.default.createElement("div",null,rowInfo.node.name)]}}}))},_default=Tree;exports.default=_default,Tree.__docgenInfo={description:"",methods:[],displayName:"Tree"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/trevas/stories/components/tree/tree.js"]={name:"Tree",docgenInfo:Tree.__docgenInfo,path:"packages/trevas/stories/components/tree/tree.js"})},1438:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _tree=__webpack_require__(1439);Object.keys(_tree).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_tree[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _tree[key]}}))}))},1439:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildTree=void 0;exports.buildTree=function buildTree(ctx){return ctx?{name:"".concat(ctx.getText()," (").concat(ctx.constructor.name,")"),children:ctx.children?ctx.children.map((function(c){return buildTree(c)})):null}:{}}},1440:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_tree_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(597),_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_tree_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_tree_scss__WEBPACK_IMPORTED_MODULE_1__),options={insert:"head",singleton:!1};_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_tree_scss__WEBPACK_IMPORTED_MODULE_1___default.a,options);__webpack_exports__.default=_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_tree_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals||{}},1442:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114);function TreeVtlVisitor(getContext){return _vtl.VtlVisitor.call(this),this.getContext=getContext,this}TreeVtlVisitor.prototype=Object.create(_vtl.VtlVisitor.prototype),TreeVtlVisitor.prototype.constructor=TreeVtlVisitor,TreeVtlVisitor.prototype.visitExpr=function(ctx){this.getContext(ctx)};var _default=TreeVtlVisitor;exports.default=_default},1443:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function get(){return _component.default}});var _component=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(1444))},1444:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(12)),_propTypes=_interopRequireDefault(__webpack_require__(13)),_griddleReact=_interopRequireDefault(__webpack_require__(1445)),_vtlEditor=__webpack_require__(1559),VTLTools=_interopRequireWildcard(__webpack_require__(1634)),_jsoneditorReact=__webpack_require__(939),_vtl=__webpack_require__(114),_vtlSuggestions=__webpack_require__(1639),_bindings=_interopRequireDefault(__webpack_require__(1640)),_tree=_interopRequireDefault(__webpack_require__(871)),_interpretor=__webpack_require__(1642),_utils=__webpack_require__(170);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Interpretor=function Interpretor(_ref){var expression=_ref.expression,initialBindings=_ref.bindings,_useState2=_slicedToArray((0,_react.useState)(expression||""),2),input=_useState2[0],setInput=_useState2[1],_useState4=_slicedToArray((0,_react.useState)(initialBindings),2),bindings=_useState4[0],setBindings=_useState4[1],_useState6=_slicedToArray((0,_react.useState)(null),2),res=_useState6[0],setRes=_useState6[1],_useState8=_slicedToArray((0,_react.useState)(""),2),type=_useState8[0],setType=_useState8[1],_useState10=_slicedToArray((0,_react.useState)([]),2),errors=_useState10[0],setErrors=_useState10[1],customTools=_objectSpread(_objectSpread({},VTLTools),{},{getSuggestionsFromRange:_vtlSuggestions.getSuggestions,initialRule:"expr"});return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement("h2",{className:"centered"},"VTL Exec"),_react.default.createElement("h3",null,"Expressions"),_react.default.createElement(_vtlEditor.AntlrEditor,{script:input,setScript:setInput,languageVersion:"vtl-2-0",tools:customTools,onListErrors:console.log,height:"10em"}),_react.default.createElement("h3",null,"Bindings"),_react.default.createElement(_bindings.default,{bindings:bindings,onChange:function updateBindings(b){setRes(""),setType(""),setBindings(b)}}),_react.default.createElement("div",{className:"btn-res"},_react.default.createElement("button",{type:"button",onClick:function onClick(){try{var result=(0,_interpretor.interpretVar)(input,bindings);setRes(result),setType(result.type),setErrors("")}catch(e){setRes(""),setType(""),setErrors(e.message)}}},"Get Result!")),res&&res.type===_vtl.VtlParser.DATASET&&_react.default.createElement("div",{className:"res"},_react.default.createElement("h2",null,"Result:"),"object"===_typeof(res.resolve())&&res.resolve().dataPoints?_react.default.createElement(_jsoneditorReact.JsonEditor,{value:res.resolve(),onChange:function onChange(){},mode:"code",allowedModes:["tree"]}):_react.default.createElement(_griddleReact.default,{data:res.resolve().toArray()})),res&&res.type!==_vtl.VtlParser.DATASET&&_react.default.createElement("div",{className:"res"},_react.default.createElement("h2",null,"Result:"),_react.default.createElement("h1",{className:"res-text"},null===res.resolve()?"null":res.resolve().toString())),errors.length>0&&_react.default.createElement("div",{className:"res"},_react.default.createElement("h2",null,"Error:"),_react.default.createElement("h1",{className:"res-text"},errors)),type&&_react.default.createElement("div",{className:"res"},_react.default.createElement("h2",null,"Returned type"),_react.default.createElement("h1",{className:"res-text"},(0,_utils.getTokenName)(type))),(res||errors)&&_react.default.createElement("div",{className:"res"},_react.default.createElement("h2",null,"Tree"),_react.default.createElement(_tree.default,{value:input})))};Interpretor.propTypes={expression:_propTypes.default.string,bindings:_propTypes.default.shape({})},Interpretor.defaultProps={expression:"",bindings:{}};var _default=Interpretor;exports.default=_default,Interpretor.__docgenInfo={description:"",methods:[],displayName:"Interpretor",props:{expression:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},bindings:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{}},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/trevas/stories/components/interpretor/component.js"]={name:"Interpretor",docgenInfo:Interpretor.__docgenInfo,path:"packages/trevas/stories/components/interpretor/component.js"})},1639:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSuggestions=exports.VARIABLE=exports.SNIPPET=exports.KEYWORD=exports.INSERT_AS_SNIPPET=exports.FUNCTION=void 0;var _monacoEditor=__webpack_require__(936),FUNCTION=_monacoEditor.languages.CompletionItemKind.Function;exports.FUNCTION=FUNCTION;var VARIABLE=_monacoEditor.languages.CompletionItemKind.Variable;exports.VARIABLE=VARIABLE;var KEYWORD=_monacoEditor.languages.CompletionItemKind.Keyword;exports.KEYWORD=KEYWORD;var SNIPPET=_monacoEditor.languages.CompletionItemKind.Snippet;exports.SNIPPET=SNIPPET;var INSERT_AS_SNIPPET=_monacoEditor.languages.CompletionItemInsertTextRule.InsertAsSnippet;exports.INSERT_AS_SNIPPET=INSERT_AS_SNIPPET;exports.getSuggestions=function getSuggestions(range){return[{label:"eval",kind:FUNCTION,insertText:"eval",range:range,documentation:{value:"The eval operator invokes an external, non-VTL routine, and returns its result as a Data Set or a scalar. \n\n **Syntax** \n\n    eval(externalRoutineName({argument}{,argument}*) language languageName returns outputType)"}},{label:"if",kind:KEYWORD,insertText:"if",range:range,documentation:{value:"Conditional operator  \n\n **Syntax** \n\n    if condition then thenOperand else elseOperand "}},{label:"then",kind:KEYWORD,insertText:"then",range:range,documentation:{value:"Conditional operator  \n\n **Syntax** \n\n    if condition then thenOperand else elseOperand "}},{label:"else",kind:KEYWORD,insertText:"else",range:range,documentation:{value:"Conditional operator  \n\n **Syntax** \n\n    if condition then thenOperand else elseOperand "}},{label:"using",kind:KEYWORD,insertText:"using",range:range},{label:"with",kind:KEYWORD,insertText:"with",range:range},{label:"current_date",kind:FUNCTION,insertText:"current_date()",range:range,documentation:{value:"The operator current_date returns the current time as a date type.   \n\n **Syntax** \n\n    current_date() "}},{label:"on",kind:KEYWORD,insertText:"on",range:range},{label:"drop",kind:KEYWORD,insertText:"drop",range:range,documentation:{value:"The operator takes as input a Data Set (op) and  some Component names of such a Data Set (comp).   \n\n **Syntax** \n\n    op [drop  comp { , comp }* ]  "}},{label:"keep",kind:KEYWORD,insertText:"keep",range:range,documentation:{value:"The operator takes as input a Data Set (op) and some Component names of such a Data Set (comp).  \n\n **Syntax** \n\n    op [ keep comp {, comp }* ] "}},{label:"calc",kind:KEYWORD,insertText:"calc",range:range,documentation:{value:"The operator calculates new Identifier, Measure or Attribute Components on the basis of sub-expressions at Component level.   ***\n\n*Example*\n\n    DS_1 [ calc Me_3 := Me_1 + Me_2] "}},{label:"attrcalc",kind:KEYWORD,insertText:"attrcalc",range:range},{label:"rename",kind:KEYWORD,insertText:"rename",range:range,documentation:{value:"The operator assigns new names to one or more Components (Identifier, Measure or Attribute Components).    \n\n **Syntax** \n\n    op [ rename  comp_from  to  comp_to  { , comp_from  to  comp_to}*  ]   "}},{label:"as",kind:KEYWORD,insertText:"as",range:range},{label:"and",kind:KEYWORD,insertText:"and",range:range,documentation:{value:"The and operator returns TRUE if both operands are TRUE, otherwise FALSE. The two operands must be of boolean type.  \n\n **Syntax** \n\n    op1 and op2  "}},{label:"or",kind:KEYWORD,insertText:"or",range:range,documentation:{value:"The or operator returns TRUE if at least one of the operands is TRUE, otherwise FALSE. The two operands must be of boolean type.  \n\n **Syntax** \n\n    op1 or op2  "}},{label:"xor",kind:KEYWORD,insertText:"xor",range:range,documentation:{value:"The xor operator returns TRUE if only one of the operand is TRUE (but not both), FALSE otherwise. The two operands must be of boolean type.   \n\n **Syntax** \n\n    op1 xor op2  "}},{label:"not",kind:KEYWORD,insertText:"not",range:range,documentation:{value:"The not operator returns TRUE if op is FALSE, otherwise TRUE. The input operand must be of boolean type.  \n\n **Syntax** \n\n    not op2  "}},{label:"between",kind:FUNCTION,insertText:"between",range:range,documentation:{value:"The operator returns TRUE if op is greater than or equal to from and lower than or equal to to.   \n\n **Syntax** \n\n    between (op, from, to)  "}},{label:"levenshtein",kind:FUNCTION,insertText:"levenshtein",range:range,documentation:{value:"The operator returns the levenshtein distance between the two inputed strings.   \n\n **Syntax** \n\n    levenshtein (left, right)  "}},{label:"in",kind:KEYWORD,insertText:"in",range:range,documentation:{value:"The in operator returns TRUE if op belongs to the collection, FALSE otherwise.    \n\n **Syntax** \n\n    op in collection  "}},{label:"not_in",kind:KEYWORD,insertText:"not_in",range:range,documentation:{value:"The not_in operator returns FALSE if op belongs to the collection, TRUE otherwise.     \n\n **Syntax** \n\n    op not_in collection  "}},{label:"isnull",kind:FUNCTION,insertText:"isnull",range:range,documentation:{value:"The operator returns TRUE if the value of the operand is NULL, FALSE otherwise.     \n\n **Syntax** \n\n    isnull(op)  "}},{label:"ex",kind:KEYWORD,insertText:"ex",range:range},{label:"union",kind:FUNCTION,insertText:"union",range:range,documentation:{value:"The union operator implements the union of functions (i.e., Data Sets).   \n\n **Syntax** \n\n    union ( ds { , ds }*) "}},{label:"diff",kind:KEYWORD,insertText:"diff",range:range},{label:"symdiff",kind:FUNCTION,insertText:"symdiff",range:range,documentation:{value:"The operator implements the symmetric set difference between functions (i.e. Data Sets), interpreting the Data Points of the input Data Sets as the elements in the operand Sets.   \n\n **Syntax** \n\n    symdiff(ds1, ds) "}},{label:"intersect",kind:FUNCTION,insertText:"intersect",range:range,documentation:{value:"The intersect operator implements the intersection of functions (i.e., Data Sets).   \n\n **Syntax** \n\n    intersect ( ds { , ds }*) "}},{label:"keys",kind:KEYWORD,insertText:"KEYS",range:range},{label:"check",kind:FUNCTION,insertText:"check",range:range,documentation:{value:"*Syntax*\n\n    check ( op { errorcode errorcode } { errorlevel errorlevel } { imbalance imbalance } { output } )   \n\noutput ::=  invalid | all "}},{label:"exists_in",kind:FUNCTION,insertText:"exists_in",range:range,documentation:{value:"The operator returns TRUE if the value of the operand is NULL, FALSE otherwise.     \n\n **Syntax** \n\n    exists_in ( op1, op2 { , retain } )   \n\n *retain* ::= true | false | all"}},{label:"to",kind:KEYWORD,insertText:"to",range:range},{label:"return",kind:KEYWORD,insertText:"return",range:range},{label:"imbalance",kind:KEYWORD,insertText:"imbalance",range:range,documentation:{value:"Imbalance is a numeric mono-measure Data Set with the same Identifiers of op. If not specified then imbalance is NULL"}},{label:"errorcode",kind:KEYWORD,insertText:"errorcode",range:range},{label:"all",kind:KEYWORD,insertText:"all",range:range},{label:"aggr",kind:KEYWORD,insertText:"aggr",range:range,documentation:{value:"The operator aggr calculates aggregations of dependent Components (Measures or Attributes) on the basis of sub-expressions at Component level.     \n\n **Syntax** \n\n    op [ aggr aggrClause { groupingClause } ]  "}},{label:"errorlevel",kind:KEYWORD,insertText:"errorlvel",range:range},{label:"order",kind:KEYWORD,insertText:"order",range:range},{label:"by",kind:KEYWORD,insertText:"by",range:range},{label:"rank",kind:FUNCTION,insertText:"rank",range:range,documentation:{value:"Rank (order number) of a Data Point in an ordered set of Data Points.   \n\n **Syntax** \n\n    rank( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    rank( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"asc",kind:KEYWORD,insertText:"asc",range:range},{label:"desc",kind:KEYWORD,insertText:"desc",range:range},{label:"min",kind:FUNCTION,insertText:"min",range:range,documentation:{value:"Minimum value of a set of values .   \n\n **Syntax** \n\n    min( firstOperand  { , additionalOperand }* { groupingClause } \n\n     min( firstOperand { , additionalOperand }*  over ( analyticClause ) "}},{label:"max",kind:FUNCTION,insertText:"max",range:range,documentation:{value:"Maximum value of a set of values .   \n\n **Syntax** \n\n    max( firstOperand  { , additionalOperand }* { groupingClause } \n\n     max( firstOperand { , additionalOperand }*  over ( analyticClause ) "}},{label:"first",kind:KEYWORD,insertText:"first",range:range},{label:"last",kind:KEYWORD,insertText:"last",range:range},{label:"indexof",kind:KEYWORD,insertText:"indexof",range:range},{label:"abs",kind:FUNCTION,insertText:"abs",range:range,documentation:{value:"The operator abs calculates the absolute value of a number.  \n\n For example:\n\n abs(-3.141) gives 3.141   \n\n **Syntax** \n\n    abs(op) "}},{label:"key",kind:KEYWORD,insertText:"key",range:range},{label:"ln",kind:FUNCTION,insertText:"ln",range:range,documentation:{value:"The operator ln calculates the natural logarithm of a number.   \n\n **Syntax** \n\n    ln(op) "}},{label:"log",kind:FUNCTION,insertText:"log",range:range,documentation:{value:"The operator log calculates the logarithm of num base op.  \n\n **Syntax** \n\n    log(op , num) "}},{label:"trunc",kind:FUNCTION,insertText:"trunc",range:range,documentation:{value:"The operator trunc truncates the operand to a number of positions at the right of the decimal point equal to the numDigit parameter.   \n\n **Syntax** \n\n    trunc ( op , numDigit ) "}},{label:"round",kind:FUNCTION,insertText:"round",range:range,documentation:{value:"The operator round rounds the operand to a number of positions at the right of the decimal point equal to the numDigit parameter.    \n\n **Syntax** \n\n    round( op , numDigit  )  "}},{label:"power",kind:FUNCTION,insertText:"power",range:range,documentation:{value:"The operator power raises a number (the base) to another one (the exponent).    \n\n **Syntax** \n\n    power(base , exponent) "}},{label:"mod",kind:FUNCTION,insertText:"mod",range:range,documentation:{value:"The operator mod returns the remainder of op1 divided by op2. It returns op1 if divisor op2 is 0.   \n\n **Syntax** \n\n    mod(op1, op2 ) "}},{label:"length",kind:FUNCTION,insertText:"length",range:range,documentation:{value:"Returns the length of a string.   \n\n **Syntax** \n\n    len( op ) "}},{label:"trim",kind:FUNCTION,insertText:"trim",range:range,documentation:{value:'Removes trailing and leading whitespace from a string.  For example,    trim("Hello ") gives  "Hello".   \n\n **Syntax** \n\n    trim(operand) '}},{label:"upper",kind:FUNCTION,insertText:"upper",range:range,documentation:{value:'Converts the character case of a string in upper case. For example,  upper("Hello") gives  "HELLO".   \n\n **Syntax** \n\n    upper(operand) '}},{label:"lower",kind:FUNCTION,insertText:"lower",range:range,documentation:{value:'Converts the character case of a string in  lower case. For example,  lower("Hello") gives  "hello".   \n\n **Syntax** \n\n    lower(operand) '}},{label:"substr",kind:FUNCTION,insertText:"substr",range:range,documentation:{value:"The operator extracts a substring from op, which must be string type. The substring starts from the start character of the input string and has a number of characters equal to the length parameter.    \n\n **Syntax** \n\n    substr ( op, start, length ) "}},{label:"sum",kind:FUNCTION,insertText:"sum",range:range,documentation:{value:"Sum of a set of numbers.   \n\n **Syntax** \n\n    sun( firstOperand  { , additionalOperand }* { groupingClause }  "}},{label:"avg",kind:FUNCTION,insertText:"avg",range:range,documentation:{value:"Average value of a set of numbers.   \n\n **Syntax** \n\n    avg( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    avg( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"median",kind:FUNCTION,insertText:"median",range:range,documentation:{value:"Median value of a set of values .   \n\n **Syntax** \n\n    median( firstOperand  { , additionalOperand }* { groupingClause } \n\n    median( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"count",kind:FUNCTION,insertText:"count",range:range,documentation:{value:"Number of Data Points.   \n\n **Syntax** \n\n    count( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    count( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"identifier",kind:KEYWORD,insertText:"identifier",range:range},{label:"measure",kind:KEYWORD,insertText:"measure",range:range},{label:"attribute",kind:KEYWORD,insertText:"attribute",range:range},{label:"filter",kind:KEYWORD,insertText:"filter",range:range,documentation:{value:"The operator takes as input a Data Set (op) and a boolean Component expression (filterCondition) and filters the input Data Points according to the evaluation of the condition.   \n\n **Syntax** \n\n    op[ filter  filterCondition ] "}},{label:"merge",kind:KEYWORD,insertText:"merge",range:range},{label:"exp",kind:FUNCTION,insertText:"exp",range:range,documentation:{value:"The operator exp returns e (base of the natural logarithm) raised to the op-th power.  \n\n **Syntax** \n\n    exp(op) "}},{label:"componentRole",kind:KEYWORD,insertText:"componentRole",range:range},{label:"viral",kind:KEYWORD,insertText:"viral",range:range},{label:"match_characters",kind:FUNCTION,insertText:"match_characters",range:range,documentation:{value:"match_characters returns TRUE if op matches the regular expression regexp, FALSE otherwise.   \n\n **Syntax** \n\n    match_characters ( op , pattern ) "}},{label:"type",kind:KEYWORD,insertText:"type",range:range},{label:"nvl",kind:FUNCTION,insertText:"nvl",range:range,documentation:{value:"The operator nvl returns op2 when op1 is null, otherwise op1.    \n\n **Syntax** \n\n    nvl ( op1 , op2 )  "}},{label:"hierarchy",kind:FUNCTION,insertText:"hierarchy",range:range,documentation:{value:"The hierarchy operator applies the rules of hr to op as specified in the parameters.   \n\n **Syntax** \n\n    hierarchy( op , hr { condition condComp { , condComp }* } { rule ruleComp } { mode } { input } { output } ) "}},{label:"invalid",kind:KEYWORD,insertText:"invalid",range:range},{label:"valuedomain",kind:KEYWORD,insertText:"valuedomain",range:range},{label:"variable",kind:KEYWORD,insertText:"variable",range:range},{label:"data",kind:KEYWORD,insertText:"data",range:range},{label:"structure",kind:KEYWORD,insertText:"structure",range:range},{label:"dataset",kind:KEYWORD,insertText:"dataset",range:range},{label:"operator",kind:KEYWORD,insertText:"operator",range:range},{label:"define",kind:KEYWORD,insertText:"define",range:range},{label:"datapoint",kind:KEYWORD,insertText:"datapoint",range:range},{label:"hierarchical",kind:KEYWORD,insertText:"hierarchical",range:range},{label:"ruleset",kind:KEYWORD,insertText:"ruleset",range:range},{label:"rule",kind:KEYWORD,insertText:"rule",range:range},{label:"end",kind:KEYWORD,insertText:"end",range:range},{label:"alterDataset",kind:KEYWORD,insertText:"alterDataset",range:range},{label:"ltrim",kind:FUNCTION,insertText:"ltrim",range:range,documentation:{value:'Removes leading whitespace from a string.  For example,    trim(" Hello ") gives "Hello ".   \n\n **Syntax** \n\n    ltrim(operand) '}},{label:"rtrim",kind:FUNCTION,insertText:"rtrim",range:range,documentation:{value:'Removes trailing whitespace from a string.  For example,    trim("Hello ") gives  "Hello".   \n\n **Syntax** \n\n    rtrim(operand) '}},{label:"instr",kind:FUNCTION,insertText:"instr",range:range,documentation:{value:"The operator returns the position in the input string of a specified string (pattern).   \n\n **Syntax** \n\n    instr ( op, pattern, start, occurrence ) "}},{label:"replace",kind:FUNCTION,insertText:"replace",range:range,documentation:{value:"Replaces all the occurrences of a specified string-pattern (pattern1) with another one (pattern2). If pattern2 is  omitted then all occurrences of pattern1 are removed   \n\n **Syntax** \n\n    replace (op , pattern1,  pattern2 ) "}},{label:"ceil",kind:FUNCTION,insertText:"ceil",range:range,documentation:{value:"The operator ceil returns the smallest integer greater than or equal to op. \n\n For example:\n\n ceil(3.14159) gives 4   \n\n **Syntax** \n\n    ceil(op) "}},{label:"floor",kind:FUNCTION,insertText:"floor",range:range,documentation:{value:"The operator floor returns the greatest integer which is smaller than or equal to op.  \n\n For example:\n\n floor(3.14159) gives 3   \n\n **Syntax** \n\n    floor(op) "}},{label:"sqrt",kind:FUNCTION,insertText:"sqrt",range:range,documentation:{value:"The operator sqrt calculates the square root of a number.  \n\n **Syntax** \n\n    sqrt(op) "}},{label:"any",kind:KEYWORD,insertText:"any",range:range},{label:"setdiff",kind:FUNCTION,insertText:"setdiff",range:range,documentation:{value:"The operator implements the set difference of functions (i.e. Data Sets), interpreting the Data Points of the input Data Sets as the elements belonging to the operand sets, the minuend and the subtrahend, respectively.   \n\n **Syntax** \n\n    setdiff(ds1, ds2)  "}},{label:"stddev_pop",kind:FUNCTION,insertText:"stddev_pop",range:range,documentation:{value:"Population standard deviation of a set of numbers.   \n\n **Syntax** \n\n    stddev_pop( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    stddev_pop( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"stddev_samp",kind:FUNCTION,insertText:"stddev_samp",range:range,documentation:{value:"Sample standard deviation of a set of numbers.   \n\n **Syntax** \n\n    stddev_samp( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    stddev_samp( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"var_pop",kind:FUNCTION,insertText:"var_pop",range:range,documentation:{value:"Population variance of a set of numbers.   \n\n **Syntax** \n\n    var_pop( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    var_pop( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"var_samp",kind:FUNCTION,insertText:"var_samp",range:range,documentation:{value:"Sample variance of a set of numbers.   \n\n **Syntax** \n\n    var_samp( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    var_samp( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"group",kind:KEYWORD,insertText:"group",range:range},{label:"except",kind:KEYWORD,insertText:"except",range:range},{label:"having",kind:KEYWORD,insertText:"having",range:range},{label:"first_value",kind:FUNCTION,insertText:"first_value",range:range,documentation:{value:"First value in an ordered set of values .   \n\n **Syntax** \n\n    first_value( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    first_value( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"last_value",kind:FUNCTION,insertText:"last_value",range:range,documentation:{value:"Last value in an ordered set of values.   \n\n **Syntax** \n\n    last_value( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    last_value( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"lag",kind:FUNCTION,insertText:"lag",range:range,documentation:{value:"In an ordered set of Data Points, it returns the value(s) taken from a Data Point at a given physical offset prior to the current Data Point.   \n\n **Syntax** \n\n    lag( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    lag( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"lead",kind:FUNCTION,insertText:"lead",range:range,documentation:{value:"In an ordered set of Data Points, it returns the value(s) taken from a Data Point at a given physical offset beyond the current Data Point .   \n\n **Syntax** \n\n    lead( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    lead( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"ratio_to_report",kind:FUNCTION,insertText:"ratio_to_report",range:range,documentation:{value:"In an ordered set of Data Points, it returns the value(s) taken from a Data Point at a given physical offset beyond the current Data Point .   \n\n **Syntax** \n\n    ratio_to_report( firstOperand  { , additionalOperand }* { groupingClause }  \n\n    ratio_to_report( firstOperand { , additionalOperand }*  over ( analyticClause )) "}},{label:"over",kind:KEYWORD,insertText:"over",range:range},{label:"preceding",kind:KEYWORD,insertText:"preceding",range:range},{label:"following",kind:KEYWORD,insertText:"following",range:range},{label:"unbounded",kind:KEYWORD,insertText:"unbounded",range:range},{label:"partition",kind:KEYWORD,insertText:"partition",range:range},{label:"rows",kind:KEYWORD,insertText:"rows",range:range},{label:"range",kind:KEYWORD,insertText:"range",range:range},{label:"current",kind:KEYWORD,insertText:"current",range:range},{label:"valid",kind:KEYWORD,insertText:"valid",range:range},{label:"fill_time_series",kind:FUNCTION,insertText:"fill_time_series",range:range,documentation:{value:"The operator fills the possibly missing Data Points of all the time series belonging to the operand op within the time limits automatically determined by applying the limit_method.       \n\n **Syntax** \n\n    fill_time_series( op { , limitsMethod})  \n\n *limitsMethod* ::= single | all"}},{label:"flow_to_stock",kind:FUNCTION,insertText:"flow_to_stock",range:range,documentation:{value:"This operator takes in input a Data Set which are interpreted as flows and calculates the change of the  corresponding stock since the beginning of each time series by summing the relevant flows. In other words, the  operator perform the cumulative sum from the first Data Point of each time series to each other following Data  Point of the same time series.  \n\n **Syntax** \n\n    flow_to_stock( op )  "}},{label:"stock_to_flow",kind:FUNCTION,insertText:"stock_to_flow",range:range,documentation:{value:"This operator takes in input a Data Set of time series which is interpreted as stock data and, for each time series,  calculates the corresponding flow data by subtracting from the measure values of each regular period the  corresponding measure values of the previous one.   \n\n **Syntax** \n\n    stock_to_flow( op )  "}},{label:"timeshift",kind:FUNCTION,insertText:"timeshift",range:range,documentation:{value:"This operator takes in input a Data Set of time series and, for each time series of the Data Set, shifts the reference time Identifier of a number of periods (of the time series) equal to the shift_number parameter.  If shift_number is negative, the shift is in the past, otherwise in the future  \n\n **Syntax** \n\n    timeshift( op ,  shiftNumber) "}},{label:"measures",kind:KEYWORD,insertText:"measures",range:range},{label:"no_measures",kind:KEYWORD,insertText:"no_measures",range:range},{label:"condition",kind:KEYWORD,insertText:"condition",range:range},{label:"boolean",kind:KEYWORD,insertText:"boolean",range:range},{label:"date",kind:KEYWORD,insertText:"date",range:range},{label:"time_period",kind:KEYWORD,insertText:"time_period",range:range},{label:"number",kind:KEYWORD,insertText:"number",range:range},{label:"string",kind:KEYWORD,insertText:"string",range:range},{label:"integer",kind:KEYWORD,insertText:"integer",range:range},{label:"float",kind:KEYWORD,insertText:"float",range:range},{label:"list",kind:KEYWORD,insertText:"list",range:range},{label:"record",kind:KEYWORD,insertText:"record",range:range},{label:"restrict",kind:KEYWORD,insertText:"restrict",range:range},{label:"maxLength",kind:KEYWORD,insertText:"maxLength",range:range},{label:"regexp",kind:KEYWORD,insertText:"regexp",range:range},{label:"is",kind:KEYWORD,insertText:"is",range:range},{label:"when",kind:KEYWORD,insertText:"when",range:range},{label:"from",kind:KEYWORD,insertText:"from",range:range},{label:"aggregates",kind:KEYWORD,insertText:"aggregates",range:range},{label:"points",kind:KEYWORD,insertText:"points",range:range},{label:"point",kind:KEYWORD,insertText:"point",range:range},{label:"total",kind:KEYWORD,insertText:"total",range:range},{label:"partial",kind:KEYWORD,insertText:"partial",range:range},{label:"always",kind:KEYWORD,insertText:"always",range:range},{label:"inner_join",kind:FUNCTION,insertText:"inner_join",range:range,documentation:{value:"Join operator, a relational join of the input operands is performed, according to SQL inner"}},{label:"left_join",kind:FUNCTION,insertText:"left_join",range:range,documentation:{value:"Join operator,  this is the left-most Data Set (left-outer sql)"}},{label:"cross_join",kind:FUNCTION,insertText:"cross_join",range:range,documentation:{value:"Join operator,  Cartesian product"}},{label:"full_join",kind:FUNCTION,insertText:"full_join",range:range,documentation:{value:"Join operator,  full outer (sql)"}},{label:"maps_from",kind:KEYWORD,insertText:"maps_from",range:range},{label:"maps_to",kind:KEYWORD,insertText:"maps_to",range:range},{label:"map_to",kind:KEYWORD,insertText:"map_to",range:range},{label:"map_from",kind:KEYWORD,insertText:"map_from",range:range},{label:"returns",kind:KEYWORD,insertText:"returns",range:range},{label:"pivot",kind:KEYWORD,insertText:"pivot",range:range,documentation:{value:"The operator transposes several Data Points of the operand Data Set into a single Data Point of the resulting Data Set.  \n\n **Syntax** \n\n    op [ pivot identifier , measure ]   "}},{label:"customPivot",kind:KEYWORD,insertText:"customPivot",range:range},{label:"unpivot",kind:KEYWORD,insertText:"unpivot",range:range,documentation:{value:"The unpivot operator transposes a single Data Point of the operand Data Set into several Data Points of the result Data set.  \n\n **Syntax** \n\n    op [ unpivot identifier , measure ]   "}},{label:"sub",kind:KEYWORD,insertText:"sub",range:range,documentation:{value:"The operator returns a Data Set in a subspace of the one of the input Dataset.  \n\n **Syntax** \n\n    op [ sub identifier = value { , identifier = value }* ]   "}},{label:"apply",kind:KEYWORD,insertText:"apply",range:range},{label:"conditioned",kind:KEYWORD,insertText:"conditioned",range:range},{label:"period_indicator",kind:FUNCTION,insertText:"period_indicator ",range:range,documentation:{value:"period_indicator returns the period indicator of a time_period value. The period indicator is the part of the time_period value which denotes the duration of the time period (e.g. day, week, month ).      \n\n **Syntax** \n\n    period_indicator(op) "}},{label:"single",kind:KEYWORD,insertText:"single",range:range},{label:"duration",kind:KEYWORD,insertText:"duration",range:range},{label:"time_agg",kind:FUNCTION,insertText:"time_agg",range:range,documentation:{value:"The operator converts a time, date or time_period value from a smaller to a larger duration.   \n\n **Syntax** \n\n    time_agg(periodIndTo { ,periodIndFrom } { ,op } { ,first | last }) "}},{label:"unit",kind:KEYWORD,insertText:"unit",range:range},{label:"value",kind:KEYWORD,insertText:"value",range:range},{label:"valuedomains",kind:KEYWORD,insertText:"valuedomains",range:range},{label:"variables",kind:KEYWORD,insertText:"variables",range:range},{label:"input",kind:KEYWORD,insertText:"input",range:range},{label:"output",kind:KEYWORD,insertText:"output",range:range},{label:"cast",kind:FUNCTION,insertText:"cast",range:range,documentation:{value:"This operator converts the scalar type of op to the scalar type specified by scalarType.  It returns a copy of op converted to the specified scalarType.   \n\n **Syntax** \n\n    cast ( op , scalarType { , mask} ) "}},{label:"rule_priority",kind:KEYWORD,insertText:"rule_priority",range:range},{label:"dataset_priority",kind:KEYWORD,insertText:"dataset_priority",range:range},{label:"default",kind:KEYWORD,insertText:"default",range:range},{label:"check_datapoint",kind:FUNCTION,insertText:"check_datapoint",range:range,documentation:{value:"\n\n*Syntax*\n\n    check_datapoint( op , dpr { components listComp } { output }) "}},{label:"check_hierarchy ",kind:FUNCTION,insertText:"check_hierarchy ",range:range,documentation:{value:"The check_hierarchy operator applies the Rules of the Ruleset hr to check the Code Items Relations between the Code Items present in op    \n\n **Syntax** \n\n    check_hierarchy ( op , hr { condition condComp { , condComp }* } { rule ruleComp } { mode } { input } { output } )  "}},{label:"computed",kind:KEYWORD,insertText:"computed",range:range},{label:"non_null",kind:KEYWORD,insertText:"non_null",range:range},{label:"non_zero",kind:KEYWORD,insertText:"non_zero",range:range},{label:"partial_null",kind:KEYWORD,insertText:"partial_null",range:range},{label:"partial_zero",kind:KEYWORD,insertText:"partial_zero",range:range},{label:"always_null",kind:KEYWORD,insertText:"always_null",range:range},{label:"always_zero",kind:KEYWORD,insertText:"always_zero",range:range},{label:"components",kind:KEYWORD,insertText:"components",range:range},{label:"all_measures",kind:KEYWORD,insertText:"all_measures",range:range},{label:"scalar",kind:KEYWORD,insertText:"scalar",range:range},{label:"component",kind:KEYWORD,insertText:"component",range:range},{label:"datapoint_on_valuedomains",kind:KEYWORD,insertText:"datapoint_on_valuedomains",range:range},{label:"datapoint_on_variables",kind:KEYWORD,insertText:"datapoint_on_variables",range:range},{label:"hierarchical_on_valuedomains",kind:KEYWORD,insertText:"hierarchical_on_valuedomains",range:range},{label:"hierarchical_on_variables",kind:KEYWORD,insertText:"hierarchical_on_variables",range:range},{label:"set",kind:KEYWORD,insertText:"set",range:range},{label:"language",kind:KEYWORD,insertText:"language",range:range},{label:"defdatapoint",kind:SNIPPET,insertText:["define datapoint ruleset ${0:name} (${1:signature}) is","\t$3","end datapoint ruleset"].join("\n"),insertTextRules:INSERT_AS_SNIPPET,documentation:{value:["\tdefine datapoint ruleset ruleSetName (signature) is\n","\t\trule\n","\tend datapoint ruleset"].join("")}},{label:"defhierarchical",kind:SNIPPET,insertText:["define hierarchical ruleset ${0:name} (${1:signature}) is","\t$3","end hierarchical ruleset"].join("\n"),insertTextRules:INSERT_AS_SNIPPET,documentation:{value:["\tdefine hierarchical ruleset ruleSetName (signature) is\n","\t\t{rule}\n","\tend hierarchical ruleset"].join("")}},{label:"defoperator",kind:SNIPPET,insertText:["define operator ${0:name} (${1:parameter})","returns ${2:returnType} is","","end operator"].join("\n"),insertTextRules:INSERT_AS_SNIPPET,documentation:{value:["\tdefine operator operatorName (parameter)\n","\treturns {returnType} is\n","\t{operatorBody}\n","\tend operator"].join("")}}]}},1640:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(12)),_propTypes=_interopRequireDefault(__webpack_require__(13)),_jsoneditorReact=__webpack_require__(939);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(1641);var Bindings=function Bindings(_ref){var bindings=_ref.bindings,onChange=_ref.onChange;return _react.default.createElement(_jsoneditorReact.JsonEditor,{value:bindings,onChange:onChange,mode:"code",allowedModes:["code","tree"]})};Bindings.propTypes={bindings:_propTypes.default.shape({}).isRequired,onChange:_propTypes.default.func.isRequired};var _default=Bindings;exports.default=_default,Bindings.__docgenInfo={description:"",methods:[],displayName:"Bindings",props:{bindings:{description:"",type:{name:"shape",value:{}},required:!0},onChange:{description:"",type:{name:"func"},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/trevas/stories/components/interpretor/bindings.js"]={name:"Bindings",docgenInfo:Bindings.__docgenInfo,path:"packages/trevas/stories/components/interpretor/bindings.js"})},1642:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpretVar=exports.getType=exports.default=void 0;var _antlr=_interopRequireDefault(__webpack_require__(331)),_error=__webpack_require__(334),_vtl=__webpack_require__(114),_Expression=_interopRequireDefault(__webpack_require__(1643)),_parser=__webpack_require__(586);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"),"symbol"===_typeof(key)?key:String(key)),descriptor)}var arg,key}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ErrorCollector=function(_ErrorListener){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ErrorCollector,_ErrorListener);var _super=_createSuper(ErrorCollector);function ErrorCollector(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ErrorCollector),(_this=_super.call(this)).errors=[],_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ErrorCollector,[{key:"syntaxError",value:function syntaxError(recognizer,offendingSymbol,line,column,msg,e){null===e?this.errors.push(new Error(msg)):this.errors.push(e)}},{key:"reportAmbiguity",value:function reportAmbiguity(recognizer,dfa,startIndex,stopIndex,exact,ambigAlts,configs){console.warn("ambiguity ".concat(startIndex,":").concat(stopIndex))}},{key:"reportAttemptingFullContext",value:function reportAttemptingFullContext(recognizer,dfa,startIndex,stopIndex,conflictingAlts,configs){console.warn("full context ".concat(startIndex,":").concat(stopIndex))}},{key:"reportContextSensitivity",value:function reportContextSensitivity(recognizer,dfa,startIndex,stopIndex,prediction,configs){console.debug("context sensitivity ".concat(startIndex,":").concat(stopIndex))}}]),ErrorCollector}(_error.ErrorListener),errorCheck=function errorCheck(stream,collector){var lexer=new _vtl.VtlLexer(stream);lexer.removeErrorListeners(),lexer.addErrorListener(collector);var tokens=new _antlr.default.CommonTokenStream(lexer),parser=new _vtl.VtlParser(tokens);return parser.removeErrorListeners(),parser.addErrorListener(collector),parser.buildParseTrees=!0,parser},interpretVar=function interpretVar(expr,bindings){var inputStream=new _antlr.default.InputStream(expr),syntaxErrors=new ErrorCollector;if(errorCheck(inputStream,syntaxErrors),syntaxErrors.errors.length>0)throw new Error("Syntax errors: ".concat(syntaxErrors.errors));inputStream.reset();var typeErrors=new ErrorCollector,parser=errorCheck(inputStream,typeErrors),expression=new _Expression.default(bindings).visit(parser.expr());if(typeErrors.errors.length>0)throw new Error("Type errors:\n\t ".concat(typeErrors.errors));return{type:expression.type,resolve:function resolve(){return expression.resolve(bindings)}}};exports.interpretVar=interpretVar;exports.getType=function getType(expr,bindings){return(0,_parser.getTokenName)(interpretVar(expr,bindings).type)};var _default=function interpret(expr,bindings){return interpretVar(expr,bindings).resolve()};exports.default=_default},1643:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_Arithmetic=_interopRequireDefault(__webpack_require__(1644)),_Boolean=_interopRequireDefault(__webpack_require__(1655)),_Conditional=_interopRequireDefault(__webpack_require__(1656)),_Variable=_interopRequireDefault(__webpack_require__(1657)),_Literal=_interopRequireDefault(__webpack_require__(1658)),_Comparison=_interopRequireDefault(__webpack_require__(1659)),_InNotInVisitor=_interopRequireDefault(__webpack_require__(1660)),_functions=__webpack_require__(1661);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ExpressionVisitor,_VtlVisitor);var _super=_createSuper(ExpressionVisitor);function ExpressionVisitor(bindings){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ExpressionVisitor),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"visitComparisonExpr",(function(ctx){return _this.comparisonVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitArithmeticExpr",(function(ctx){return _this.arithmeticVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitArithmeticExprOrConcat",(function(ctx){return ctx.op.type===_vtl.VtlParser.CONCAT?new _functions.ConcatenationVisitor(_assertThisInitialized(_this)).visit(ctx):_this.arithmeticVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitUnaryExpr",(function(ctx){return ctx.op.type===_vtl.VtlParser.NOT?_this.booleanAlgebraVisitor.visit(ctx):_this.arithmeticVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitBooleanExpr",(function(ctx){return _this.booleanAlgebraVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitParenthesisExpr",(function(ctx){return _this.visit(ctx.expr())})),_defineProperty(_assertThisInitialized(_this),"visitIfExpr",(function(ctx){return _this.ifThenElseVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitConditionalFunctions",(function(ctx){return _this.visit(ctx.conditionalOperators())})),_defineProperty(_assertThisInitialized(_this),"visitNvlAtom",(function(ctx){return _this.ifThenElseVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitOptionalExpr",(function(ctx){return null===ctx.expr()?null:_this.visit(ctx.expr())})),_defineProperty(_assertThisInitialized(_this),"visitFunctionsExpression",(function(ctx){return _this.visit(ctx.functions())})),_defineProperty(_assertThisInitialized(_this),"visitGenericFunctions",(function(ctx){return _this.visit(ctx.genericOperators())})),_defineProperty(_assertThisInitialized(_this),"visitTimeFunctions",(function(ctx){return _this.visit(ctx.timeOperators())})),_defineProperty(_assertThisInitialized(_this),"visitVarIdExpr",(function(ctx){return _this.variableVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitConstant",(function(ctx){return _this.literalVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitConstantExpr",(function(ctx){return _this.literalVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitInNotInExpr",(function(ctx){return _this.inNotInVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitCastExprDataset",(function(ctx){return _this.castFunctionVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitCurrentDateAtom",(function(ctx){return _this.dateFunctionVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitConcatExpr",(function(ctx){return _this.concatenationVisitor.visit(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitStringFunctions",(function(ctx){return _this.stringFunctionVisitor.visit(ctx.stringOperators())})),_defineProperty(_assertThisInitialized(_this),"visitComparisonFunctions",(function(ctx){return _this.comparisonFunctionVisitor.visit(ctx.comparisonOperators())})),_defineProperty(_assertThisInitialized(_this),"visitNumericFunctions",(function(ctx){return _this.numericFunctionVisitor.visit(ctx.numericOperators())})),_defineProperty(_assertThisInitialized(_this),"visitAggregateFunctions",(function(ctx){return _this.datasetFunctionsVisitor.visit(ctx.aggrOperatorsGrouping())})),_defineProperty(_assertThisInitialized(_this),"visitAnalyticFunctions",(function(ctx){return _this.datasetFunctionsVisitor.visit(ctx.anFunction())})),_this.bindings=bindings,_this.arithmeticVisitor=new _Arithmetic.default(_assertThisInitialized(_this)),_this.booleanAlgebraVisitor=new _Boolean.default(_assertThisInitialized(_this)),_this.castFunctionVisitor=new _functions.CastVisitor(_assertThisInitialized(_this)),_this.comparisonVisitor=new _Comparison.default(_assertThisInitialized(_this)),_this.concatenationVisitor=new _functions.ConcatenationVisitor(_assertThisInitialized(_this)),_this.dateFunctionVisitor=new _functions.DateVisitor(_assertThisInitialized(_this)),_this.ifThenElseVisitor=new _Conditional.default(_assertThisInitialized(_this)),_this.literalVisitor=new _Literal.default,_this.comparisonFunctionVisitor=new _functions.ComparisonFunctionVisitor(_assertThisInitialized(_this)),_this.numericFunctionVisitor=new _functions.NumericFunctionsVisitor(_assertThisInitialized(_this)),_this.stringFunctionVisitor=new _functions.StringFunctionsVisitor(_assertThisInitialized(_this)),_this.variableVisitor=new _Variable.default(_this.bindings),_this.inNotInVisitor=new _InNotInVisitor.default(_assertThisInitialized(_this)),_this.datasetFunctionsVisitor=new _functions.DatasetFunctionsVisitor(_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ExpressionVisitor)}(_vtl.VtlVisitor);exports.default=_default},1644:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261),_utils=__webpack_require__(170);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getType=function getType(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var types=args.map((function(a){return a.type}));return types.includes(_vtl.VtlParser.NULL_CONSTANT)?_vtl.VtlParser.NUMBER:types.includes(_vtl.VtlParser.DATE)?_vtl.VtlParser.INTEGER:types.includes(_vtl.VtlParser.NUMBER)?_vtl.VtlParser.NUMBER:_vtl.VtlParser.INTEGER};function keyExtractorFor(columns){if(columns.length<1)throw new Error("column list was empty");return function(row){return Object.entries(row).filter((function(_ref){var key=_slicedToArray(_ref,1)[0];return columns.includes(key)})).map((function(_ref3){var _ref4=_slicedToArray(_ref3,2);_ref4[0];return _ref4[1]})).reduce((function(a,v){return a+v}),"")}}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ArithmeticVisitor,_VtlVisitor);var _super=_createSuper(ArithmeticVisitor);function ArithmeticVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ArithmeticVisitor),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"visitUnaryExpr",(function(ctx){var op=ctx.op,rightCtx=ctx.right,rightExpr=_this.exprVisitor.visit(rightCtx),expectedTypes=[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,_vtl.VtlParser.NULL_CONSTANT];if(!expectedTypes.includes(rightExpr.type))throw new _errors.TypeMismatchError(rightCtx,expectedTypes,rightExpr.type);return{resolve:function resolve(bindings){var value=rightExpr.resolve(bindings);return null===value?null:op.type===_vtl.VtlParser.PLUS?value:-value},type:getType(rightExpr)}})),_defineProperty(_assertThisInitialized(_this),"visitArithmeticExprOrConcat",(function(ctx){if(ctx.op.type===_vtl.VtlParser.CONCAT)throw new Error("Arithmetic visitor got CONCAT context");return _this.visitArithmeticExpr(ctx)})),_defineProperty(_assertThisInitialized(_this),"visitArithmeticExpr",(function(ctx){var operatorFunction,leftCtx=ctx.left,rightCtx=ctx.right,opCtx=ctx.op,leftExpr=_this.exprVisitor.visit(leftCtx),rightExpr=_this.exprVisitor.visit(rightCtx),expectedTypes=[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,_vtl.VtlParser.DATASET,_vtl.VtlParser.NULL_CONSTANT,_vtl.VtlParser.DATE];if(!expectedTypes.includes(leftExpr.type))throw new _errors.TypeMismatchError(leftCtx,expectedTypes,leftExpr.type);if(!expectedTypes.includes(rightExpr.type))throw new _errors.TypeMismatchError(rightCtx,expectedTypes,rightExpr.type);var type=getType(leftExpr,rightExpr);switch(opCtx.type){case _vtl.VtlParser.PLUS:operatorFunction=function operatorFunction(left,right){return left+right};break;case _vtl.VtlParser.MINUS:operatorFunction=function operatorFunction(left,right){return left-right};break;case _vtl.VtlParser.MUL:operatorFunction=function operatorFunction(left,right){return left*right};break;case _vtl.VtlParser.DIV:operatorFunction=function operatorFunction(left,right){return left/right},type=_vtl.VtlParser.NUMBER;break;default:throw new Error("unknown operator ".concat(opCtx.getText()))}if(leftExpr.type===_vtl.VtlParser.DATASET&&rightExpr.type===_vtl.VtlParser.DATASET){var commonColumns=function intersectColumns(leftColumns,rightColumns){return Object.fromEntries(Object.entries(leftColumns).filter((function(l){return Object.entries(rightColumns).some((function(r){return l.name===r.name&&l.role===r.role&&l.type===r.type}))})))}(leftExpr.columns,rightExpr.columns),commonIdentifiers=Object.entries(commonColumns).filter((function(_ref5){var _ref6=_slicedToArray(_ref5,2);_ref6[0];return _ref6[1].role===_vtl.VtlParser.DIMENSION})).map((function(_ref7){return _slicedToArray(_ref7,1)[0]})),commonMeasures=Object.entries(commonColumns).filter((function(_ref9){var _ref10=_slicedToArray(_ref9,2);_ref10[0];return _ref10[1].role===_vtl.VtlParser.MEASURE})).map((function(_ref11){return _slicedToArray(_ref11,1)[0]}));return{type:_vtl.VtlParser.DATASET,columns:leftExpr.columns,resolve:function resolve(bindings){var leftDataset=leftExpr.resolve(bindings),rightDataset=rightExpr.resolve(bindings);return leftDataset.join(rightDataset,keyExtractorFor(commonIdentifiers),keyExtractorFor(commonIdentifiers),function rowMerger(identifiers,measures,op){return function(left,right){var _step,result={},_iterator=_createForOfIteratorHelper(identifiers);try{for(_iterator.s();!(_step=_iterator.n()).done;){var identifier=_step.value;result[identifier]=left[identifier]}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _step2,_iterator2=_createForOfIteratorHelper(measures);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var measure=_step2.value;result[measure]=op(left[measure],right[measure])}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return result}}(commonIdentifiers,commonMeasures,operatorFunction))}}}return{resolve:function resolve(bindings){var leftValue=leftExpr.resolve(bindings),rightValue=rightExpr.resolve(bindings);return(0,_utils.hasNullArgs)(leftValue,rightValue)?null:leftExpr.type===_vtl.VtlParser.DATE&&rightExpr.type===_vtl.VtlParser.DATE?operatorFunction(new Date(leftValue),new Date(rightValue)):operatorFunction(leftValue,rightValue)},type:type}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ArithmeticVisitor)}(_vtl.VtlVisitor);exports.default=_default},1645:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"),"symbol"===_typeof(key)?key:String(key)),descriptor)}var arg,key}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(_RecognitionException){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(CastTypeError,_RecognitionException);var _super=_createSuper(CastTypeError);function CastTypeError(ctx,source,target){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CastTypeError),_super.call(this,{message:"Can not cast '".concat(source,"' into '").concat(target,"'"),input:ctx.parser.getInputStream(),recognizer:ctx.parser,ctx:ctx})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(CastTypeError)}(__webpack_require__(334).RecognitionException);exports.default=_default},1646:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _error=__webpack_require__(334),_utils=__webpack_require__(170);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"),"symbol"===_typeof(key)?key:String(key)),descriptor)}var arg,key}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _default=function(_RecognitionException){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(IncompatibleTypeError,_RecognitionException);var _super=_createSuper(IncompatibleTypeError);function IncompatibleTypeError(ctx,expected,found){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,IncompatibleTypeError);var expectedStr=(0,_utils.getTokenName)(expected),foundStr=(0,_utils.getTokenName)(found);return _super.call(this,{message:"incompatible type, required '".concat(expectedStr,"' but found '").concat(foundStr,"' for then operand"),input:ctx.parser.getInputStream(),recognizer:ctx.parser,ctx:ctx})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(IncompatibleTypeError)}(_error.RecognitionException);exports.default=_default},1647:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.replaceConstantType=void 0;var _vtl=__webpack_require__(114);exports.replaceConstantType=function replaceConstantType(type){switch(type){case _vtl.VtlParser.STRING_CONSTANT:return _vtl.VtlParser.STRING;case _vtl.VtlParser.INTEGER_CONSTANT:return _vtl.VtlParser.INTEGER;case _vtl.VtlParser.NUMBER_CONSTANT:return _vtl.VtlParser.NUMBER;case _vtl.VtlParser.BOOLEAN_CONSTANT:return _vtl.VtlParser.BOOLEAN;case _vtl.VtlParser.DATE_FORMAT:return _vtl.VtlParser.DATE;case _vtl.VtlParser.NULL_CONSTANT:return _vtl.VtlParser.NULL_CONSTANT;default:return type}}},1648:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTokenType=void 0;exports.getTokenType=function getTokenType(ctx){return ctx.start.type}},1649:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStringFromDate=exports.getDate=exports.getCurrentDate=void 0;var _dateFns=__webpack_require__(1671);exports.getCurrentDate=function getCurrentDate(){return new Date};var buildDateFnsMask=function buildDateFnsMask(mask){return mask.replace(/YYYY/g,"yyyy").replace(/YYYY/g,"yyyy").replace(/DD/g,"dd")};exports.getDate=function getDate(dateStr,mask){return mask?(0,_dateFns.format)(new Date(dateStr),buildDateFnsMask(mask)):new Date(dateStr)};exports.getStringFromDate=function getStringFromDate(date,mask){return mask?(0,_dateFns.format)(new Date("".concat(date)),buildDateFnsMask(mask)):new Date("".concat(date))}},1650:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _dataframeBuilder=__webpack_require__(934);Object.keys(_dataframeBuilder).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_dataframeBuilder[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _dataframeBuilder[key]}}))}));var _operations=__webpack_require__(1651);Object.keys(_operations).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_operations[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _operations[key]}}))}))},1651:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transpose=exports.getVarSamp=exports.getVarPop=exports.getSum=exports.getStdDevSamp=exports.getStdDevPop=exports.getMin=exports.getMedian=exports.getMax=exports.getDatasetLastValue=exports.getDatasetFirstValue=exports.getDatasetCast=exports.getDFContent=exports.getCount=exports.getAvg=void 0;var _vtl=__webpack_require__(114),_parser=__webpack_require__(586),_dataframeBuilder=__webpack_require__(934),U=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(935));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var defaultDataset={dataStructure:{},dataPoints:{}},transpose=function transpose(array){return Array.isArray(array[0])?array[0].map((function(_,colIndex){return array.map((function(row){return row[colIndex]}))})):[]};exports.transpose=transpose;var getDFContent=function getDFContent(expr){var df=function getExprAsDataFrame(expr){return expr.dataStructure?(0,_dataframeBuilder.fromDatasetToDataframe)(expr):expr}(expr),dfElements=df&&df.content&&df.content.values&&df.content.values;if(!dfElements)throw new Error("Malformed dataset into bindings");var columnNames=dfElements.columnNames,rows=dfElements.rows;return{columnNames:columnNames,data:transpose(rows)}};exports.getDFContent=getDFContent;exports.getDatasetCast=function getDatasetCast(outputType){return function(expr){var _getDFContent=getDFContent(expr),columnNames=_getDFContent.columnNames,data=_getDFContent.data,transformer=function getDatasetCastTransformation(type){switch(type){case _vtl.VtlParser.INTEGER:return function(e){return parseInt(e,10)};case _vtl.VtlParser.NUMBER:return function(e){return parseFloat(e,10)};default:throw new Error("Can't cast dataset as ".concat((0,_parser.getTokenName)(type)," for now"))}}(outputType);return columnNames.reduce((function(acc,col,i){var values=data[i].map((function(d){return function handleNullElement(element){return function(fn){return null===element?null:fn(element)}}(d)(transformer)}));return{dataStructure:_objectSpread(_objectSpread({},acc.dataStructure),{},_defineProperty({},col,{})),dataPoints:_objectSpread(_objectSpread({},acc.dataPoints),{},_defineProperty({},col,values))}}),defaultDataset)}};var getColValues=function getColValues(fn){return function(colData){return function(canContainNull){return!canContainNull&&colData.includes(null)?null:fn(colData)}}},handleArithmetic=function handleArithmetic(expr){return function(fn){var canContainNull=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_getDFContent2=getDFContent(expr),columnNames=_getDFContent2.columnNames,data=_getDFContent2.data;return data?columnNames.reduce((function(acc,col,i){var values=getColValues(fn)(data[i])(canContainNull);return{dataStructure:_objectSpread(_objectSpread({},acc.dataStructure),{},_defineProperty({},col,{})),dataPoints:_objectSpread(_objectSpread({},acc.dataPoints),{},_defineProperty({},col,values))}}),defaultDataset):null}};exports.getCount=function getCount(expr){return handleArithmetic(expr)((function(r){return r.length}),!0)};exports.getDatasetFirstValue=function getDatasetFirstValue(expr){return handleArithmetic(expr)((function(r){return r[0]}),!0)};exports.getDatasetLastValue=function getDatasetLastValue(expr){return handleArithmetic(expr)((function(r){return r[r.length-1]}),!0)};exports.getSum=function getSum(expr){return handleArithmetic(expr)((function(c){return U.getArraySum(c)}))};exports.getMin=function getMin(expr){return handleArithmetic(expr)((function(c){return U.getArrayMin(c)}))};exports.getMax=function getMax(expr){return handleArithmetic(expr)((function(c){return U.getArrayMax(c)}))};exports.getMedian=function getMedian(expr){return handleArithmetic(expr)((function(c){return U.getArrayMedian(c)}))};exports.getAvg=function getAvg(expr){return handleArithmetic(expr)((function(c){return U.getArrayAvg(c)}))};exports.getStdDevPop=function getStdDevPop(expr){return handleArithmetic(expr)((function(c){return U.getDeviation(c)}))};exports.getStdDevSamp=function getStdDevSamp(expr){return handleArithmetic(expr)((function(c){return U.getDeviation(c,!1)}))};exports.getVarPop=function getVarPop(expr){return handleArithmetic(expr)((function(c){return U.getVariance(c)}))};exports.getVarSamp=function getVarSamp(expr){return handleArithmetic(expr)((function(c){return U.getVariance(c,!1)}))}},1652:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasNullArgs=void 0;exports.hasNullArgs=function hasNullArgs(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return args.includes(null)}},1653:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _error=__webpack_require__(334),_utils=__webpack_require__(170);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"),"symbol"===_typeof(key)?key:String(key)),descriptor)}var arg,key}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _default=function(_RecognitionException){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(OperatorTypeError,_RecognitionException);var _super=_createSuper(OperatorTypeError);function OperatorTypeError(ctx,operator,left,right){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,OperatorTypeError);var leftStr=(0,_utils.getTokenName)(left),rightStr=(0,_utils.getTokenName)(right);return _super.call(this,{message:"operator '".concat(operator,"' cannot be applied to '").concat(leftStr,"', '").concat(rightStr,"'"),input:ctx.parser.getInputStream(),recognizer:ctx.parser,ctx:ctx})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(OperatorTypeError)}(_error.RecognitionException);exports.default=_default},1654:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _error=__webpack_require__(334),_utils=__webpack_require__(170);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(arg=descriptor.key,key=void 0,key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string"),"symbol"===_typeof(key)?key:String(key)),descriptor)}var arg,key}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _default=function(_RecognitionException){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(TypeMismatchError,_RecognitionException);var _super=_createSuper(TypeMismatchError);function TypeMismatchError(ctx,expected,got){var expectedStr;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TypeMismatchError),expectedStr=Array.isArray(expected)?expected.map((function(t){return(0,_utils.getTokenName)(t)})).join(" or "):(0,_utils.getTokenName)(expected);var gotStr=(0,_utils.getTokenName)(got);return _super.call(this,{message:"type mismatch, expected ".concat(expectedStr,", got ").concat(gotStr),input:ctx.parser.getInputStream(),recognizer:ctx.parser,ctx:ctx})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(TypeMismatchError)}(_error.RecognitionException);exports.default=_default},1655:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261),_utils=__webpack_require__(170);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(BooleanVisitor,_VtlVisitor);var _super=_createSuper(BooleanVisitor);function BooleanVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BooleanVisitor),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"visitUnaryExpr",(function(ctx){var right=ctx.right,rightOperand=_this.exprVisitor.visit(right);if(![_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.NULL_CONSTANT].includes(rightOperand.type))throw new Error("Operand should be a boolean constant");return{resolve:function resolve(bindings){var operandValue=rightOperand.resolve(bindings);return null===operandValue?null:!operandValue},type:_vtl.VtlParser.BOOLEAN}})),_defineProperty(_assertThisInitialized(_this),"visitBooleanExpr",(function(ctx){var leftCtx=ctx.left,rightCtx=ctx.right,opCtx=ctx.op,leftExpr=_this.exprVisitor.visit(leftCtx),rightExpr=_this.exprVisitor.visit(rightCtx);if(![_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.NULL_CONSTANT].includes(leftExpr.type))throw new _errors.TypeMismatchError(leftCtx,_vtl.VtlParser.BOOLEAN,leftExpr.type);if(![_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.NULL_CONSTANT].includes(rightExpr.type))throw new _errors.TypeMismatchError(rightCtx,_vtl.VtlParser.BOOLEAN,rightExpr.type);if(opCtx.type===_vtl.VtlParser.AND)return function handleAnd(leftExpr,rightExpr){return{resolve:function resolve(bindings){var leftValue=leftExpr.resolve(bindings);if(null!==leftValue&&!leftValue)return!1;var rightValue=rightExpr.resolve(bindings);return!(null!==rightValue&&!rightValue)&&(!(0,_utils.hasNullArgs)(leftValue,rightValue)||null)},type:_vtl.VtlParser.BOOLEAN}}(leftExpr,rightExpr);if(opCtx.type===_vtl.VtlParser.OR)return function handleOr(leftExpr,rightExpr){return{resolve:function resolve(bindings){var leftValue=leftExpr.resolve(bindings);if(null!==leftValue&&leftValue)return!0;var rightValue=rightExpr.resolve(bindings);return!(null===rightValue||!rightValue)||!!(0,_utils.hasNullArgs)(leftValue,rightValue)&&null},type:_vtl.VtlParser.BOOLEAN}}(leftExpr,rightExpr);if(opCtx.type===_vtl.VtlParser.XOR)return function handleXor(leftExpr,rightExpr){return{resolve:function resolve(bindings){return null===leftExpr.resolve(bindings)||null===rightExpr.resolve(bindings)?null:leftExpr.resolve(bindings)!==rightExpr.resolve(bindings)},type:_vtl.VtlParser.BOOLEAN}}(leftExpr,rightExpr);throw new Error("unknown operator ".concat(opCtx.getText()))})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(BooleanVisitor)}(_vtl.VtlVisitor);exports.default=_default},1656:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261),_utils=__webpack_require__(170);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var handleIntegerAndNumber=function handleIntegerAndNumber(aType,bType){return(![_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER].includes(aType)||![_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER].includes(bType))&&aType!==bType},_default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ConditionalVisitor,_VtlVisitor);var _super=_createSuper(ConditionalVisitor);function ConditionalVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConditionalVisitor),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"visitIfExpr",(function(ctx){var conditionalExpr=ctx.conditionalExpr,thenExpr=ctx.thenExpr,elseExpr=ctx.elseExpr,conditionalOperand=_this.exprVisitor.visit(conditionalExpr);if(![_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.NULL_CONSTANT].includes(conditionalOperand.type))throw new _errors.TypeMismatchError(conditionalExpr,_vtl.VtlParser.BOOLEAN,conditionalOperand.type);var thenOperand=_this.exprVisitor.visit(thenExpr),elseOperand=_this.exprVisitor.visit(elseExpr);if(![thenOperand.type,elseOperand.type].includes(_vtl.VtlParser.NULL_CONSTANT)&&handleIntegerAndNumber(thenOperand.type,elseOperand.type))throw new _errors.IncompatibleTypeError(ctx,thenOperand.type,elseOperand.type);return{resolve:function resolve(bindings){var conditionValue=conditionalOperand.resolve(bindings);return(0,_utils.hasNullArgs)(conditionValue)||!conditionValue?elseOperand.resolve(bindings):thenOperand.resolve(bindings)},type:function getType(thenType,elseType){return thenType===elseType?thenType:[thenType,elseType].includes(_vtl.VtlParser.NULL_CONSTANT)?thenOperand.type===_vtl.VtlParser.NULL_CONSTANT?elseOperand.type:thenOperand.type:[thenType,elseType].includes(_vtl.VtlParser.INTEGER)&&[thenType,elseType].includes(_vtl.VtlParser.NUMBER)?_vtl.VtlParser.NUMBER:void 0}(thenOperand.type,elseOperand.type)}})),_defineProperty(_assertThisInitialized(_this),"visitNvlAtom",(function(ctx){var left=ctx.left,right=ctx.right,leftOperand=_this.exprVisitor.visit(left),rightOperand=_this.exprVisitor.visit(right);if(![leftOperand.type,rightOperand.type].includes(_vtl.VtlParser.NULL_CONSTANT)&&handleIntegerAndNumber(leftOperand.type,rightOperand.type))throw new _errors.IncompatibleTypeError(ctx,leftOperand.type,rightOperand.type);return{resolve:function resolve(bindings){return leftOperand.resolve(bindings)?leftOperand.resolve(bindings):rightOperand.resolve(bindings)},type:rightOperand.type}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ConditionalVisitor)}(_vtl.VtlVisitor);exports.default=_default},1657:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_utils=__webpack_require__(170);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var types={string:_vtl.VtlParser.STRING,number:_vtl.VtlParser.NUMBER,boolean:_vtl.VtlParser.BOOLEAN},typeResolver=function typeResolver(variable,bindings){var boundVar=bindings[variable];if(null===boundVar)return _vtl.VtlParser.NULL_CONSTANT;var jsType=_typeof(boundVar);if(["string","number","boolean"].includes(jsType))return types[jsType];if("object"===jsType){if(Object.keys(boundVar).includes("dataStructure","dataPoints"))return _vtl.VtlParser.DATASET;throw new Error("The dataset shape is not good.")}throw new Error("Unrecognized variable type.")},_default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(VariableVisitor,_VtlVisitor);var _super=_createSuper(VariableVisitor);function VariableVisitor(_bindings){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VariableVisitor),function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call(this)),"visitVarIdExpr",(function(ctx){var variable=ctx.getText();return _this.bindings[variable]&&_this.bindings[variable].type?_this.bindings[variable]:{resolve:function resolve(bindings){return function varTransformer(variable,bindings){var type=typeResolver(variable,bindings);if([_vtl.VtlParser.NUMBER,_vtl.VtlParser.STRING,_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.NULL_CONSTANT].includes(type))return bindings[variable];if(type===_vtl.VtlParser.DATASET)return(0,_utils.fromDatasetToDataframe)(bindings[variable]);throw new Error("Cannot transform variable of type ".concat(type))}(variable,bindings)},type:typeResolver(variable,_this.bindings)}})),_this.bindings=_bindings,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VariableVisitor)}(_vtl.VtlVisitor);exports.default=_default},1658:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_utils=__webpack_require__(170);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(LiteralVisitor,_VtlVisitor);var _super=_createSuper(LiteralVisitor);function LiteralVisitor(){var _this;_classCallCheck(this,LiteralVisitor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"visitConstant",(function(ctx){var value;switch((0,_utils.getTokenType)(ctx)){case _vtl.VtlParser.STRING_CONSTANT:var text=ctx.getText();value=text.substring(1,text.length-1);break;case _vtl.VtlParser.INTEGER_CONSTANT:value=parseInt(ctx.getText(),10);break;case _vtl.VtlParser.NUMBER_CONSTANT:value=parseFloat(ctx.getText());break;case _vtl.VtlParser.BOOLEAN_CONSTANT:value=JSON.parse(ctx.getText());break;case _vtl.VtlParser.DATE_FORMAT:value=ctx.getText();break;case _vtl.VtlParser.NULL_CONSTANT:value=null;break;default:throw new Error("Bad type")}return{resolve:function resolve(){return value},type:(0,_utils.replaceConstantType)((0,_utils.getTokenType)(ctx))}})),_defineProperty(_assertThisInitialized(_this),"visitConstantExpr",(function(ctx){var value;switch((0,_utils.getTokenType)(ctx)){case _vtl.VtlParser.STRING_CONSTANT:var text=ctx.getText();value=text.substring(1,text.length-1);break;case _vtl.VtlParser.INTEGER_CONSTANT:value=parseInt(ctx.getText(),10);break;case _vtl.VtlParser.NUMBER_CONSTANT:value=parseFloat(ctx.getText());break;case _vtl.VtlParser.BOOLEAN_CONSTANT:value=JSON.parse(ctx.getText());break;case _vtl.VtlParser.DATE_FORMAT:value=ctx.getText();break;case _vtl.VtlParser.NULL_CONSTANT:value=null;break;default:throw new Error("Bad type")}return{resolve:function resolve(){return value},type:(0,_utils.replaceConstantType)((0,_utils.getTokenType)(ctx))}})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(LiteralVisitor)}(_vtl.VtlVisitor);exports.default=_default},1659:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var resolve=function resolve(operand,leftExpr,rightExpr){var operatorFunction;switch(operand.children[0].symbol.type){case _vtl.VtlParser.MT:operatorFunction=function operatorFunction(l,r){return l>r};break;case _vtl.VtlParser.LT:operatorFunction=function operatorFunction(l,r){return l<r};break;case _vtl.VtlParser.ME:operatorFunction=function operatorFunction(l,r){return l>=r};break;case _vtl.VtlParser.LE:operatorFunction=function operatorFunction(l,r){return l<=r};break;case _vtl.VtlParser.EQ:operatorFunction=function operatorFunction(l,r){return l===r};break;case _vtl.VtlParser.NEQ:operatorFunction=function operatorFunction(l,r){return l!==r};break;default:throw new Error("Unsupported operator ' + ".concat(operand.getText()))}return function(bindings){var leftValue=leftExpr.resolve(bindings),rightValue=rightExpr.resolve(bindings);return[leftValue,rightValue].includes(null)?null:operatorFunction(leftValue,rightValue)}},_default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ComparisonVisitor,_VtlVisitor);var _super=_createSuper(ComparisonVisitor);function ComparisonVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComparisonVisitor),function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call(this)),"visitComparisonExpr",(function(ctx){var left=ctx.left,right=ctx.right,op=ctx.op,leftExpr=_this.exprVisitor.visit(left),rightExpr=_this.exprVisitor.visit(right),expectedTypes=[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,_vtl.VtlParser.STRING,_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.NULL_CONSTANT,_vtl.VtlParser.DATE];if(!expectedTypes.includes(leftExpr.type))throw new _errors.TypeMismatchError(left,expectedTypes,leftExpr.type);if(!expectedTypes.includes(rightExpr.type))throw new _errors.TypeMismatchError(right,expectedTypes,rightExpr.type);if(![leftExpr.type,rightExpr.type].includes(_vtl.VtlParser.NULL_CONSTANT)&&function handleIntegerAndNumber(leftType,rightType){return(![_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER].includes(leftType)||![_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER].includes(rightType))&&leftType!==rightType}(leftExpr.type,rightExpr.type))throw new _errors.TypeMismatchError(left,expectedTypes,rightExpr.type);return{resolve:resolve(op,leftExpr,rightExpr),type:_vtl.VtlParser.BOOLEAN}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ComparisonVisitor)}(_vtl.VtlVisitor);exports.default=_default},1660:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(InNotInVisitor,_VtlVisitor);var _super=_createSuper(InNotInVisitor);function InNotInVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InNotInVisitor),function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call(this)),"visitInNotInExpr",(function(ctx){var left=ctx.left,op=ctx.op,leftExpr=_this.exprVisitor.visit(left),listExpr=ctx.lists()?_this.exprVisitor.visit(ctx.lists().constant()):null,value=ctx.valueDomainID()?ctx.valueDomainID().children[0].getText():null;return{resolve:function resolve(bindings){var list;if(listExpr)list=listExpr.map((function(a){return a.resolve(bindings)}));else{if(!value||!bindings[value])return null;list=Object.values(bindings[value].dataPoints)[0]}var resolvedLeftExpr=leftExpr.resolve(bindings);if(null===resolvedLeftExpr)return null;if(op.type===_vtl.VtlParser.IN)return list.includes(resolvedLeftExpr);if(op.type===_vtl.VtlParser.NOT_IN)return!list.includes(resolvedLeftExpr);throw new Error("unknown operator ".concat(op.getText()))},type:_vtl.VtlParser.BOOLEAN}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(InNotInVisitor)}(_vtl.VtlVisitor);exports.default=_default},1661:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"CastVisitor",{enumerable:!0,get:function get(){return _Cast.default}}),Object.defineProperty(exports,"ComparisonFunctionVisitor",{enumerable:!0,get:function get(){return _Comparison.default}}),Object.defineProperty(exports,"ConcatenationVisitor",{enumerable:!0,get:function get(){return _Concatenation.default}}),Object.defineProperty(exports,"DatasetFunctionsVisitor",{enumerable:!0,get:function get(){return _Dataset.default}}),Object.defineProperty(exports,"DateVisitor",{enumerable:!0,get:function get(){return _Date.default}}),Object.defineProperty(exports,"NumericFunctionsVisitor",{enumerable:!0,get:function get(){return _Numeric.default}}),Object.defineProperty(exports,"StringFunctionsVisitor",{enumerable:!0,get:function get(){return _String.default}});var _Cast=_interopRequireDefault(__webpack_require__(1662)),_Comparison=_interopRequireDefault(__webpack_require__(1663)),_Concatenation=_interopRequireDefault(__webpack_require__(1664)),_Numeric=_interopRequireDefault(__webpack_require__(1665)),_String=_interopRequireDefault(__webpack_require__(1666)),_Dataset=_interopRequireDefault(__webpack_require__(1667)),_Date=_interopRequireDefault(__webpack_require__(1668));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},1662:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261),_utils=__webpack_require__(170);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(CastVisitor,_VtlVisitor);var _super=_createSuper(CastVisitor);function CastVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CastVisitor),function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call(this)),"visitCastExprDataset",(function(ctx){var expr=_this.exprVisitor.visit(ctx.expr()),scalarTypeCtx=ctx.basicScalarType()||ctx.valueDomainName(),maskCtx=ctx.STRING_CONSTANT(),mask=maskCtx?maskCtx.getText().substring(1,maskCtx.getText().length-1):void 0,castOutputType=scalarTypeCtx.children[0].symbol.type,combination=[[_vtl.VtlParser.DATASET,[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,_vtl.VtlParser.STRING],function(op){return(0,_utils.getDatasetCast)(castOutputType)(op)}],[_vtl.VtlParser.INTEGER,_vtl.VtlParser.INTEGER,function(op){return op}],[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,function(op){return op}],[_vtl.VtlParser.INTEGER,_vtl.VtlParser.BOOLEAN,function(op){return 0!==op}],[_vtl.VtlParser.INTEGER,_vtl.VtlParser.TIME,"ERROR"],[_vtl.VtlParser.INTEGER,_vtl.VtlParser.DATE,"ERROR"],[_vtl.VtlParser.INTEGER,_vtl.VtlParser.TIME_PERIOD,"ERROR"],[_vtl.VtlParser.INTEGER,_vtl.VtlParser.STRING,function(op){return"".concat(op)}],[_vtl.VtlParser.INTEGER,_vtl.VtlParser.DURATION,"ERROR"],[_vtl.VtlParser.NUMBER,_vtl.VtlParser.INTEGER,function(op){if(!Number.isInteger(op))throw new _errors.CastTypeError(ctx,op,_vtl.VtlParser.NUMBER);return parseInt(op,10)}],[_vtl.VtlParser.NUMBER,_vtl.VtlParser.NUMBER,function(op){return op}],[_vtl.VtlParser.NUMBER,_vtl.VtlParser.BOOLEAN,function(op){return 0!==op}],[_vtl.VtlParser.NUMBER,_vtl.VtlParser.TIME,"ERROR"],[_vtl.VtlParser.NUMBER,_vtl.VtlParser.DATE,"ERROR"],[_vtl.VtlParser.NUMBER,_vtl.VtlParser.TIME_PERIOD,"ERROR"],[_vtl.VtlParser.NUMBER,_vtl.VtlParser.STRING,function(op){return"".concat(op)}],[_vtl.VtlParser.NUMBER,_vtl.VtlParser.DURATION,"ERROR"],[_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.INTEGER,function(op){return op?1:0}],[_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.NUMBER,function(op){return op?1:0}],[_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.BOOLEAN,function(op){return op}],[_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.TIME,"ERROR"],[_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.DATE,"ERROR"],[_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.TIME_PERIOD,"ERROR"],[_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.STRING,function(op){return"".concat(op)}],[_vtl.VtlParser.BOOLEAN,_vtl.VtlParser.DURATION,"ERROR"],[_vtl.VtlParser.TIME,_vtl.VtlParser.INTEGER,function(){return"TODO"}],[_vtl.VtlParser.TIME,_vtl.VtlParser.NUMBER,function(){return"TODO"}],[_vtl.VtlParser.TIME,_vtl.VtlParser.BOOLEAN,function(){return"TODO"}],[_vtl.VtlParser.TIME,_vtl.VtlParser.TIME,function(){return"TODO"}],[_vtl.VtlParser.TIME,_vtl.VtlParser.DATE,function(){return"TODO"}],[_vtl.VtlParser.TIME,_vtl.VtlParser.TIME_PERIOD,function(){return"TODO"}],[_vtl.VtlParser.TIME,_vtl.VtlParser.STRING,function(){return"TODO"}],[_vtl.VtlParser.TIME,_vtl.VtlParser.DURATION,function(){return"TODO"}],[_vtl.VtlParser.DATE,_vtl.VtlParser.INTEGER,function(){return"TODO"}],[_vtl.VtlParser.DATE,_vtl.VtlParser.NUMBER,function(){return"TODO"}],[_vtl.VtlParser.DATE,_vtl.VtlParser.BOOLEAN,function(){return"TODO"}],[_vtl.VtlParser.DATE,_vtl.VtlParser.TIME,function(){return"TODO"}],[_vtl.VtlParser.DATE,_vtl.VtlParser.DATE,function(op,m){return(0,_utils.getDate)("".concat(op),m)}],[_vtl.VtlParser.DATE,_vtl.VtlParser.TIME_PERIOD,function(){return"TODO"}],[_vtl.VtlParser.DATE,_vtl.VtlParser.STRING,function(op,m){return(0,_utils.getStringFromDate)(op,m)}],[_vtl.VtlParser.DATE,_vtl.VtlParser.DURATION,function(){return"TODO"}],[_vtl.VtlParser.TIME_PERIOD,_vtl.VtlParser.INTEGER,function(){return"TODO"}],[_vtl.VtlParser.TIME_PERIOD,_vtl.VtlParser.NUMBER,function(){return"TODO"}],[_vtl.VtlParser.TIME_PERIOD,_vtl.VtlParser.BOOLEAN,function(){return"TODO"}],[_vtl.VtlParser.TIME_PERIOD,_vtl.VtlParser.TIME,function(){return"TODO"}],[_vtl.VtlParser.TIME_PERIOD,_vtl.VtlParser.DATE,function(){return"TODO"}],[_vtl.VtlParser.TIME_PERIOD,_vtl.VtlParser.TIME_PERIOD,function(){return"TODO"}],[_vtl.VtlParser.TIME_PERIOD,_vtl.VtlParser.STRING,function(){return"TODO"}],[_vtl.VtlParser.TIME_PERIOD,_vtl.VtlParser.DURATION,function(){return"TODO"}],[_vtl.VtlParser.STRING,_vtl.VtlParser.INTEGER,function(op){if(!Number.isInteger(Number(op)))throw new _errors.CastTypeError(ctx,op,_vtl.VtlParser.INTEGER);return parseInt(op,10)}],[_vtl.VtlParser.STRING,_vtl.VtlParser.NUMBER,function(op){if(!Number.isInteger(parseInt(op,10)))throw new _errors.CastTypeError(ctx,op,_vtl.VtlParser.NUMBER);return parseFloat(op)}],[_vtl.VtlParser.STRING,_vtl.VtlParser.BOOLEAN,"ERROR"],[_vtl.VtlParser.STRING,_vtl.VtlParser.TIME,function(){return"TODO"}],[_vtl.VtlParser.STRING,_vtl.VtlParser.DATE,function(op,m){return(0,_utils.getDate)(op,m)}],[_vtl.VtlParser.STRING,_vtl.VtlParser.TIME_PERIOD,function(){return"TODO"}],[_vtl.VtlParser.STRING,_vtl.VtlParser.STRING,function(op){return op}],[_vtl.VtlParser.STRING,_vtl.VtlParser.DURATION,function(){return"TODO"}],[_vtl.VtlParser.DURATION,_vtl.VtlParser.INTEGER,"ERROR"],[_vtl.VtlParser.DURATION,_vtl.VtlParser.NUMBER,"ERROR"],[_vtl.VtlParser.DURATION,_vtl.VtlParser.BOOLEAN,"ERROR"],[_vtl.VtlParser.DURATION,_vtl.VtlParser.TIME,"ERROR"],[_vtl.VtlParser.DURATION,_vtl.VtlParser.DATE,"ERROR"],[_vtl.VtlParser.DURATION,_vtl.VtlParser.TIME_PERIOD,"ERROR"],[_vtl.VtlParser.DURATION,_vtl.VtlParser.STRING,function(op){return"".concat(op)}],[_vtl.VtlParser.DURATION,_vtl.VtlParser.DURATION,function(op){return op}]].filter((function(_ref){var _ref2=_slicedToArray(_ref,2),opType=_ref2[0],scalarTypes=_ref2[1];return Array.isArray(scalarTypes)?opType===expr.type&&scalarTypes.includes(castOutputType):opType===expr.type&&scalarTypes===castOutputType})),operatorFunction=[];if(expr.type!==_vtl.VtlParser.NULL_CONSTANT){if(1!==combination.length)throw new _errors.OperatorTypeError(ctx,"Cast",expr.type,castOutputType);if("function"!=typeof(operatorFunction=combination[0][2]))throw new _errors.CastTypeError(ctx,expr.type,castOutputType)}return{resolve:function resolve(bindings){var opValue=expr.resolve(bindings);return(0,_utils.hasNullArgs)(opValue)?null:operatorFunction(opValue,mask)},type:combination[0]&&combination[0][0]===_vtl.VtlParser.DATASET?_vtl.VtlParser.DATASET:castOutputType}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(CastVisitor)}(_vtl.VtlVisitor);exports.default=_default},1663:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261),_utils=__webpack_require__(170);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ComparisonVisitor,_VtlVisitor);var _super=_createSuper(ComparisonVisitor);function ComparisonVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComparisonVisitor),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"visitIsNullAtom",(function(ctx){var expr=_this.exprVisitor.visit(ctx.expr());return{resolve:function resolve(bindings){return null===expr.resolve(bindings)},type:_vtl.VtlParser.BOOLEAN}})),_defineProperty(_assertThisInitialized(_this),"visitBetweenAtom",(function(ctx){var op=ctx.op,from_=ctx.from_,to_=ctx.to_,opOperand=_this.exprVisitor.visit(op),fromOperand=_this.exprVisitor.visit(from_),toOperand=_this.exprVisitor.visit(to_);return[[opOperand,op],[fromOperand,from_],[toOperand,to_]].forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),o=_ref2[0],c=_ref2[1];if(![_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,_vtl.VtlParser.NULL_CONSTANT].includes(o.type))throw new _errors.TypeMismatchError(c,[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER],o.type)})),{resolve:function resolve(bindings){var fromValue=fromOperand.resolve(bindings),toValue=toOperand.resolve(bindings),opValue=opOperand.resolve(bindings);return(0,_utils.hasNullArgs)(fromValue,toValue,opValue)?null:fromValue<=opValue&&opValue<=toValue},type:_vtl.VtlParser.BOOLEAN}})),_defineProperty(_assertThisInitialized(_this),"visitCharsetMatchAtom",(function(ctx){var op=ctx.op,pattern=ctx.pattern,opOperand=_this.exprVisitor.visit(op),patternOperand=_this.exprVisitor.visit(pattern);return[[opOperand,op],[patternOperand,pattern]].forEach((function(_ref3){var _ref4=_slicedToArray(_ref3,2),o=_ref4[0],c=_ref4[1];if(![_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT].includes(o.type))throw new _errors.TypeMismatchError(c,_vtl.VtlParser.STRING,o.type)})),{resolve:function resolve(bindings){var opValue=opOperand.resolve(bindings),patternValue=patternOperand.resolve(bindings);if((0,_utils.hasNullArgs)(opValue,patternValue))return null;var regex=new RegExp(patternValue),match=opValue.match(regex);return!!match&&(match&&opValue===match[0])},type:_vtl.VtlParser.BOOLEAN}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ComparisonVisitor)}(_vtl.VtlVisitor);exports.default=_default},1664:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ConcatenationVisitor,_VtlVisitor);var _super=_createSuper(ConcatenationVisitor);function ConcatenationVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConcatenationVisitor),function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call(this)),"visitArithmeticExprOrConcat",(function(ctx){if(ctx.op.type!==_vtl.VtlParser.CONCAT)throw new Error("Concat visitor got arithmetic context");var left=ctx.left,right=ctx.right,leftOperand=_this.exprVisitor.visit(left),rightOperand=_this.exprVisitor.visit(right);if(![_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT].includes(leftOperand.type)||![_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT].includes(rightOperand.type))throw new Error("cannot concat ".concat(left.getText()," with ").concat(right.getText()));return{resolve:function resolve(bindings){return"".concat(leftOperand.resolve(bindings)).concat(rightOperand.resolve(bindings))},type:_vtl.VtlParser.STRING}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ConcatenationVisitor)}(_vtl.VtlVisitor);exports.default=_default},1665:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261),_utils=__webpack_require__(170);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(NumericVisitor,_VtlVisitor);var _super=_createSuper(NumericVisitor);function NumericVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NumericVisitor),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"visitUnaryNumeric",(function(ctx){var operatorFunction,type,opCtx=ctx.op,expr=_this.exprVisitor.visit(ctx.expr()),expectedTypes=[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,_vtl.VtlParser.NULL_CONSTANT];if(!expectedTypes.includes(expr.type))throw new _errors.TypeMismatchError(ctx.expr(),expectedTypes,opCtx.type);switch(opCtx.type){case _vtl.VtlParser.ABS:operatorFunction=function operatorFunction(e){return Math.abs(e)},type=expr.type;break;case _vtl.VtlParser.CEIL:operatorFunction=function operatorFunction(e){return Math.ceil(e)},type=_vtl.VtlParser.INTEGER;break;case _vtl.VtlParser.EXP:operatorFunction=function operatorFunction(e){return Math.exp(e)},type=_vtl.VtlParser.NUMBER;break;case _vtl.VtlParser.FLOOR:operatorFunction=function operatorFunction(e){return Math.floor(e)},type=_vtl.VtlParser.INTEGER;break;case _vtl.VtlParser.LN:operatorFunction=function operatorFunction(e){return Math.log(e)},type=_vtl.VtlParser.NUMBER;break;case _vtl.VtlParser.SQRT:operatorFunction=function operatorFunction(e){return Math.sqrt(e)},type=_vtl.VtlParser.NUMBER;break;default:throw new Error("unknown operator ".concat(opCtx.getText()))}return{resolve:function resolve(bindings){var exprValue=expr.resolve(bindings);return(0,_utils.hasNullArgs)(exprValue)?null:operatorFunction(exprValue)},type:type}})),_defineProperty(_assertThisInitialized(_this),"visitUnaryWithOptionalNumeric",(function(ctx){var operatorFunction,type,opCtx=ctx.op,expr=_this.exprVisitor.visit(ctx.expr()),optionalExpr=ctx.optionalExpr()&&ctx.optionalExpr().expr()?_this.exprVisitor.visit(ctx.optionalExpr().expr()):void 0,expectedTypes=[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,_vtl.VtlParser.NULL_CONSTANT];if(!expectedTypes.includes(expr.type))throw new _errors.TypeMismatchError(ctx.expr(),expectedTypes,opCtx.type);if(optionalExpr&&optionalExpr.type!==_vtl.VtlParser.INTEGER)throw new Error("The second operand should be an integer");switch(opCtx.type){case _vtl.VtlParser.ROUND:operatorFunction=function operatorFunction(e,oE){return oE&&oE!==_vtl.VtlParser.OPTIONAL?Math.round(e*Math.pow(10,oE))/Math.pow(10,oE):Math.round(e)},type=_vtl.VtlParser.NUMBER;break;case _vtl.VtlParser.TRUNC:operatorFunction=function operatorFunction(e,oE){return oE&&oE!==_vtl.VtlParser.OPTIONAL?Math.trunc(e*Math.pow(10,oE))/Math.pow(10,oE):Math.trunc(e)},type=_vtl.VtlParser.NUMBER;break;default:throw new Error("unknown operator ".concat(opCtx.getText()))}return{resolve:function resolve(bindings){var exprValue=expr.resolve(bindings),optionalValue=optionalExpr?optionalExpr.resolve(bindings):void 0;return(0,_utils.hasNullArgs)(exprValue,optionalValue)?null:operatorFunction(exprValue,optionalValue)},type:type}})),_defineProperty(_assertThisInitialized(_this),"visitBinaryNumeric",(function(ctx){var operatorFunction,leftCtx=ctx.left,rightCtx=ctx.right,opCtx=ctx.op,leftExpr=_this.exprVisitor.visit(leftCtx),rightExpr=_this.exprVisitor.visit(rightCtx),expectedTypes=[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NUMBER,_vtl.VtlParser.NULL_CONSTANT];if(!expectedTypes.includes(leftExpr.type))throw new _errors.TypeMismatchError(leftCtx,expectedTypes,leftExpr.type);if(!expectedTypes.includes(rightExpr.type))throw new _errors.TypeMismatchError(rightCtx,expectedTypes,rightExpr.type);var type=_vtl.VtlParser.NUMBER;switch(opCtx.type){case _vtl.VtlParser.LOG:operatorFunction=function operatorFunction(lE,rE){return Math.log(lE)/Math.log(rE)},type=_vtl.VtlParser.NUMBER;break;case _vtl.VtlParser.MOD:operatorFunction=function operatorFunction(lE,rE){return 0===rE?lE:lE%rE},type=leftExpr.type===_vtl.VtlParser.INTEGER&&rightExpr.type===_vtl.VtlParser.INTEGER?_vtl.VtlParser.INTEGER:_vtl.VtlParser.NUMBER;break;case _vtl.VtlParser.POWER:operatorFunction=function operatorFunction(lE,rE){return Math.pow(lE,rE)},type=leftExpr.type===_vtl.VtlParser.INTEGER&&rightExpr.type===_vtl.VtlParser.INTEGER?_vtl.VtlParser.INTEGER:_vtl.VtlParser.NUMBER;break;default:throw new Error("unknown operator ".concat(opCtx.getText()))}return{resolve:function resolve(bindings){var leftValue=leftExpr.resolve(bindings),rightValue=rightExpr.resolve(bindings);return(0,_utils.hasNullArgs)(leftValue,rightValue)?null:operatorFunction(leftValue,rightValue)},type:type}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(NumericVisitor)}(_vtl.VtlVisitor);exports.default=_default},1666:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261),_utils=__webpack_require__(170);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(StringVisitor,_VtlVisitor);var _super=_createSuper(StringVisitor);function StringVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StringVisitor),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"visitUnaryStringFunction",(function(ctx){var operatorFunction,opCtx=ctx.op,expr=_this.exprVisitor.visit(ctx.expr());if(![_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT].includes(expr.type))throw new _errors.TypeMismatchError(ctx.expr(),_vtl.VtlParser.STRING,opCtx.type);var type=_vtl.VtlParser.STRING;switch(opCtx.type){case _vtl.VtlParser.TRIM:operatorFunction=function operatorFunction(e){return e.trim()};break;case _vtl.VtlParser.LTRIM:operatorFunction=function operatorFunction(e){return e.trimLeft()};break;case _vtl.VtlParser.RTRIM:operatorFunction=function operatorFunction(e){return e.trimRight()};break;case _vtl.VtlParser.UCASE:operatorFunction=function operatorFunction(e){return e.toUpperCase()};break;case _vtl.VtlParser.LCASE:operatorFunction=function operatorFunction(e){return e.toLowerCase()};break;case _vtl.VtlParser.LEN:operatorFunction=function operatorFunction(e){return e.length},type=_vtl.VtlParser.INTEGER;break;default:throw new Error("unknown operator ".concat(opCtx.getText()))}return{resolve:function resolve(bindings){var exprValue=expr.resolve(bindings);return(0,_utils.hasNullArgs)(exprValue)?null:operatorFunction(exprValue)},type:type}})),_defineProperty(_assertThisInitialized(_this),"checkTypes",(function(exprCtx,expectedTypes){var operand=_this.exprVisitor.visit(exprCtx);if(!expectedTypes.includes(operand.type))throw new _errors.TypeMismatchError(exprCtx,expectedTypes,operand.type);return operand})),_defineProperty(_assertThisInitialized(_this),"visitReplaceAtom",(function(ctx){var _ctx$expr2=_slicedToArray(ctx.expr(),2),strCtx=_ctx$expr2[0],oldCtx=_ctx$expr2[1],operand=_this.checkTypes(strCtx,[_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT]),oldStr=_this.checkTypes(oldCtx,[_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT]),newCtx=ctx.optionalExpr()?ctx.optionalExpr():{resolve:function resolve(){return""},type:_vtl.VtlParser.STRING},newStr=_this.checkTypes(newCtx,[_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT]);return{resolve:function resolve(bindings){var operandValue=operand.resolve(bindings),oldStrValue=oldStr.resolve(bindings),newStrValue=newStr.resolve();if((0,_utils.hasNullArgs)(operandValue,oldStrValue,newStrValue))return null;var regexp=new RegExp(oldStrValue,"g");return operandValue.replace(regexp,newStrValue)},type:_vtl.VtlParser.STRING}})),_defineProperty(_assertThisInitialized(_this),"visitInstrAtom",(function(ctx){var _ctx$expr4=_slicedToArray(ctx.expr(),2),operandCtx=_ctx$expr4[0],patternCtx=_ctx$expr4[1],_ctx$optionalExpr2=_slicedToArray(ctx.optionalExpr(),2),startCtx=_ctx$optionalExpr2[0],occurrenceCtx=_ctx$optionalExpr2[1],operand=_this.checkTypes(operandCtx,[_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT]),pattern=_this.checkTypes(patternCtx,[_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT]),start=startCtx&&startCtx.expr()?_this.checkTypes(startCtx,[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NULL_CONSTANT]):{resolve:function resolve(){return 0},type:_vtl.VtlParser.INTEGER},occurrence=occurrenceCtx&&occurrenceCtx.expr()?_this.checkTypes(occurrenceCtx,[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NULL_CONSTANT]):{resolve:function resolve(){return 1},type:_vtl.VtlParser.INTEGER};return{resolve:function resolve(bindings){var operandValue=operand.resolve(bindings),patternValue=pattern.resolve(bindings),startValue=start.resolve(bindings);if(startValue<0)throw new Error("start cannot be negative");var occurenceValue=occurrence.resolve(bindings);if(occurenceValue<0)throw new Error("occurrence cannot be negative");if((0,_utils.hasNullArgs)(operandValue,patternValue,startValue,occurenceValue))return null;for(var result=0;occurenceValue>0;){if(occurenceValue-=1,-1===(result=operandValue.indexOf(patternValue,startValue)))return 0;startValue=result+1}return result+1},type:_vtl.VtlParser.INTEGER}})),_defineProperty(_assertThisInitialized(_this),"visitSubstrAtom",(function(ctx){if(4===ctx.children.length)throw new Error("Invalid number of operands for function substr");var _ctx$optionalExpr4=_slicedToArray(ctx.optionalExpr(),2),startIndexCtx=_ctx$optionalExpr4[0],lengthCtx=_ctx$optionalExpr4[1],operand=_this.checkTypes(ctx.expr(),[_vtl.VtlParser.STRING,_vtl.VtlParser.NULL_CONSTANT]),startIndex=_this.checkTypes(startIndexCtx,[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NULL_CONSTANT]),length=_this.checkTypes(lengthCtx,[_vtl.VtlParser.INTEGER,_vtl.VtlParser.NULL_CONSTANT]);return{resolve:function resolve(bindings){var operandValue=operand.resolve(bindings),startValue=startIndex.resolve(bindings),lengthValue=length.resolve(bindings);return(0,_utils.hasNullArgs)(operandValue,startValue,lengthValue)?null:operandValue.substring(startValue-1,startValue-1+lengthValue)},type:_vtl.VtlParser.STRING}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(StringVisitor)}(_vtl.VtlVisitor);exports.default=_default},1667:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_errors=__webpack_require__(261),U=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(170));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(DatasetVisitor,_VtlVisitor);var _super=_createSuper(DatasetVisitor);function DatasetVisitor(exprVisitor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DatasetVisitor),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"visitAggrDataset",(function(ctx){var operatorFunction,opCtx=ctx.op,expr=_this.exprVisitor.visit(ctx.expr());if(expr.type!==_vtl.VtlParser.DATASET)throw new _errors.TypeMismatchError(ctx.expr(),_vtl.VtlParser.DATASET,opCtx.type);switch(opCtx.type){case _vtl.VtlParser.COUNT:operatorFunction=function operatorFunction(e){return U.getCount(e)};break;case _vtl.VtlParser.SUM:operatorFunction=function operatorFunction(e){return U.getSum(e)};break;case _vtl.VtlParser.MIN:operatorFunction=function operatorFunction(e){return U.getMin(e)};break;case _vtl.VtlParser.MAX:operatorFunction=function operatorFunction(e){return U.getMax(e)};break;case _vtl.VtlParser.MEDIAN:operatorFunction=function operatorFunction(e){return U.getMedian(e)};break;case _vtl.VtlParser.AVG:operatorFunction=function operatorFunction(e){return U.getAvg(e)};break;case _vtl.VtlParser.STDDEV_POP:operatorFunction=function operatorFunction(e){return U.getStdDevPop(e)};break;case _vtl.VtlParser.STDDEV_SAMP:operatorFunction=function operatorFunction(e){return U.getStdDevSamp(e)};break;case _vtl.VtlParser.VAR_POP:operatorFunction=function operatorFunction(e){return U.getVarPop(e)};break;case _vtl.VtlParser.VAR_SAMP:operatorFunction=function operatorFunction(e){return U.getVarSamp(e)};break;default:throw new Error("unknown operator ".concat(opCtx.getText()))}return{resolve:function resolve(bindings){return operatorFunction(expr.resolve(bindings))},type:_vtl.VtlParser.DATASET}})),_defineProperty(_assertThisInitialized(_this),"visitAnSimpleFunction",(function(ctx){var operatorFunction,opCtx=ctx.op,expr=_this.exprVisitor.visit(ctx.expr());if(expr.type!==_vtl.VtlParser.DATASET)throw new _errors.TypeMismatchError(ctx.expr(),_vtl.VtlParser.DATASET,opCtx.type);switch(opCtx.type){case _vtl.VtlParser.FIRST_VALUE:operatorFunction=function operatorFunction(e){return U.getDatasetFirstValue(e)};break;case _vtl.VtlParser.LAST_VALUE:operatorFunction=function operatorFunction(e){return U.getDatasetLastValue(e)};break;default:throw new Error("unknown operator ".concat(opCtx.getText()))}return{resolve:function resolve(bindings){return operatorFunction(expr.resolve(bindings))},type:_vtl.VtlParser.DATASET}})),_this.exprVisitor=exprVisitor,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DatasetVisitor)}(_vtl.VtlVisitor);exports.default=_default},1668:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtl=__webpack_require__(114),_utils=__webpack_require__(170);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}var _default=function(_VtlVisitor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(DateVisitor,_VtlVisitor);var _super=_createSuper(DateVisitor);function DateVisitor(){var _this;_classCallCheck(this,DateVisitor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"visitCurrentDateAtom",(function(){return{resolve:function resolve(){return(0,_utils.getCurrentDate)()},type:_vtl.VtlParser.DATE}})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DateVisitor)}(_vtl.VtlVisitor);exports.default=_default},1669:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="# Interpretor\n\nTODO\n"},170:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _exportNames={replaceConstantType:!0,getTokenType:!0,getDate:!0,getStringFromDate:!0,getCurrentDate:!0,getTokenName:!0};Object.defineProperty(exports,"getCurrentDate",{enumerable:!0,get:function get(){return _dates.getCurrentDate}}),Object.defineProperty(exports,"getDate",{enumerable:!0,get:function get(){return _dates.getDate}}),Object.defineProperty(exports,"getStringFromDate",{enumerable:!0,get:function get(){return _dates.getStringFromDate}}),Object.defineProperty(exports,"getTokenName",{enumerable:!0,get:function get(){return _parser.getTokenName}}),Object.defineProperty(exports,"getTokenType",{enumerable:!0,get:function get(){return _context.getTokenType}}),Object.defineProperty(exports,"replaceConstantType",{enumerable:!0,get:function get(){return _constants.replaceConstantType}});var _constants=__webpack_require__(1647),_context=__webpack_require__(1648),_dates=__webpack_require__(1649),_parser=__webpack_require__(586),_datasets=__webpack_require__(1650);Object.keys(_datasets).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_datasets[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _datasets[key]}}))}));var _null=__webpack_require__(1652);Object.keys(_null).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_null[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _null[key]}}))}));var _array=__webpack_require__(935);Object.keys(_array).forEach((function(key){"default"!==key&&"__esModule"!==key&&(Object.prototype.hasOwnProperty.call(_exportNames,key)||key in exports&&exports[key]===_array[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function get(){return _array[key]}}))}))},261:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"CastTypeError",{enumerable:!0,get:function get(){return _CastTypeError.default}}),Object.defineProperty(exports,"IncompatibleTypeError",{enumerable:!0,get:function get(){return _IncompatibleTypeError.default}}),Object.defineProperty(exports,"OperatorTypeError",{enumerable:!0,get:function get(){return _OperatorTypeError.default}}),Object.defineProperty(exports,"TypeMismatchError",{enumerable:!0,get:function get(){return _TypeMismatchError.default}});var _CastTypeError=_interopRequireDefault(__webpack_require__(1645)),_IncompatibleTypeError=_interopRequireDefault(__webpack_require__(1646)),_OperatorTypeError=_interopRequireDefault(__webpack_require__(1653)),_TypeMismatchError=_interopRequireDefault(__webpack_require__(1654));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},586:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTokenName=void 0;var _vtl=__webpack_require__(114);exports.getTokenName=function getTokenName(type){var name=Object.entries(_vtl.VtlParser).find((function(t){return t[1]===type}));return name?name[0]:"[unknown]"}},595:function(module,exports,__webpack_require__){(exports=__webpack_require__(32)(!1)).push([module.i,".centered{text-align:center}.btn-res{margin-top:2em}.res{margin-top:2em;text-align:center}.res-text{color:red}",""]),module.exports=exports},597:function(module,exports,__webpack_require__){(exports=__webpack_require__(32)(!1)).push([module.i,".tree{height:40em}div.rst__rowLabel{display:none}",""]),module.exports=exports},871:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function get(){return _component.default}});var _component=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(1420))},934:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromDatasetToDataframe=void 0;var _dataForge=__webpack_require__(870);exports.fromDatasetToDataframe=function fromDatasetToDataframe(dataset){var dataStructure=dataset.dataStructure,dataPoints=dataset.dataPoints,columnNames=Object.keys(dataStructure),dpColumns=Object.keys(dataPoints);if(dpColumns&&dpColumns.length){var data=Object.values(dataPoints),rows=data[0].map((function(_,colIndex){return data.map((function(row){return row[colIndex]}))}));return new _dataForge.DataFrame({rows:rows,columnNames:columnNames})}return new _dataForge.DataFrame}},935:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getVariance=exports.getDeviation=exports.getArraySum=exports.getArrayMin=exports.getArrayMedian=exports.getArrayMax=exports.getArrayAvg=void 0;var handleNull=function handleNull(array){return function(fn){return!Array.isArray(array)||array.includes(null)?null:fn(array)}};exports.getArraySum=function getArraySum(array){return handleNull(array)((function fn(arr){return arr.reduce((function(acc,a){return acc+a}),0)}))};exports.getArrayMin=function getArrayMin(array){return handleNull(array)((function fn(arr){return arr.reduce((function(acc,a){return acc<a?acc:a}),array[0])}))};exports.getArrayMax=function getArrayMax(array){return handleNull(array)((function fn(arr){return arr.reduce((function(acc,a){return acc>a?acc:a}),array[0])}))};exports.getArrayMedian=function getArrayMedian(array){return handleNull(array)((function fn(arr){var mid=Math.floor(arr.length/2),sortedArray=_toConsumableArray(arr).sort((function(a,b){return a-b}));return arr.length%2!=0?sortedArray[mid]:(sortedArray[mid-1]+sortedArray[mid])/2}))};exports.getArrayAvg=function getArrayAvg(array){return handleNull(array)((function fn(arr){return arr.reduce((function(acc,a){return acc+a}),0)/array.length}))};var getDeviation=function getDeviation(array){var usePopulation=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fn=function fn(arr){if(arr.length<=1)return 0;var mean=arr.reduce((function(acc,val){return acc+val}),0)/arr.length;return Math.sqrt(arr.reduce((function(acc,val){return acc.concat(Math.pow(val-mean,2))}),[]).reduce((function(acc,val){return acc+val}),0)/(arr.length-(usePopulation?0:1)))};return handleNull(array)(fn)};exports.getDeviation=getDeviation;exports.getVariance=function getVariance(array,usePopulation){var deviation=getDeviation(array,usePopulation);return null===deviation?null:Math.pow(deviation,2)}},951:function(module,exports,__webpack_require__){__webpack_require__(952),__webpack_require__(1132),module.exports=__webpack_require__(1133)}},[[951,3,4]]]);
//# sourceMappingURL=main.bbd35647f28d1400f403.bundle.js.map